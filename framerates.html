<!DOCTYPE html>
<html xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="google-site-verification"
      content="lycUp7ydtqCns6dWrk6eO8RWmFUyIXNxBJ1pCgin4TE"
    />
    <meta
      name="description"
      content="Blur Busters UFO Motion Tests with ghosting test, 30fps vs 60fps, 120hz vs 144hz vs 240hz, PWM test, motion blur test, judder test, benchmarks, and more."
    />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <meta
      property="og:description"
      content="Blur Busters UFO Motion Tests with ghosting test, 30fps vs 60fps vs 120hz vs 144hz vs 240hz, PWM test, motion blur test, judder test, benchmarks, and more."
    />
    <meta property="og:url" content="http://www.testufo.com/" />
    <meta
      property="og:title"
      content="Blur Busters TestUFO Motion Tests. Benchmark for monitors & displays."
    />
    <meta
      property="og:image"
      content="http://www.testufo.com/images/testufo-banner.png"
    />
    <meta
      property="og:image:secure_url"
      content="https://www.testufo.com/images/testufo-banner.png"
    />
    <meta property="fb:app_id" content="103199426888044" />
    <link rel="icon" type="image/ico" href="favicon.ico" />
    <!-- <link rel="stylesheet" type="text/css" href="bbufo.css" /> -->
    <style>
      body,
      p {
        padding: 0;
      }

      .selectArrowButton,
      table {
        vertical-align: middle;
        border: none;
      }

      table,
      table.center {
        border-spacing: 0;
        border-collapse: collapse;
      }

      .cellHeader,
      body {
        text-align: center;
      }

      .box,
      .callout,
      .shareText,
      .warning {
        font-weight: 700;
      }

      .easteregg,
      .hiddenchoice,
      .title {
        visibility: hidden;
      }

      /* Now minified into index.* files. After modif */
      [title] {
        white-space: pre-line;
      }

      .ShareLabel,
      .logo {
        white-space: nowrap;
      }

      .title {
        display: none;
      }

      a,
      img {
        border: 0;
      }

      body {
        font-family: Arial, sans-serif;
        margin: 0;
      }

      p {
        margin-top: 0;
        margin-bottom: 6px;
        font-size: 12px;
      }

      table.center {
        border: none;
        margin-left: auto;
        margin-right: auto;
      }

      .selectArrowButton {
        margin: 0 4px;
      }

      table.intro,
      table.telemetry {
        width: 100%;
        max-width: 960px;
        border-collapse: separate;
        border-spacing: 1px 4px;
        margin-left: auto;
        margin-right: auto;
        vertical-align: middle;
      }

      .selectTestMenu {
        vertical-align: middle;
        border-collapse: separate;
        padding: 4px;
        border-radius: 6px;
        background: #fff;
      }

      .selectTestMenu:hover {
        background: #ff0;
      }

      .selectTestMenu:active,
      .selectTestMenu:focus {
        background: #fff;
      }

      table.intro {
        border: none;
      }

      .cellHeader {
        width: 640px;
        height: 54px;
        font-size: 30px;
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAWJAAAFiQBmxXGFAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xNzNun2MAAAAVUExURQAAAAAAAAAm/wDwAP8AAP//AP////TbnhkAAAABdFJOUwBA5thmAAABpUlEQVRo3u3agZGDIBAFUFqgBVuwBVugBfov4QBBVgLowXr53uyfZEKMvJnN6EqcKCWRSCQSiSTGnoMGekLTzJrMYNRMTjRRwMCZMoHEAL1nahkV+cGGF0QE0FVsWhmqmR/MFR8n3lTND4B5+rqHiDCgpl4UNRaoqRdEDQY6YnUd9Xi6t2igi13s8fRlA4KkZEywCCqoc4vAAr1D1kprbLM4YO5ee8mpxUKBZYMNRWOBxUUKECRHjYEEtV5SdNxgoEDiYYLUW46jBgpcKBg7BC7osmKD+N8h/2HzBDh96k2C9JZPH7x5b4gZLO/63EuHZAZ3bvOJL37UGaR9WyQzSDjqNR0yqpPMIOXIlO1ilGeUJDdIuZPXZc7ln269cIPeq+2/XQ/pvCzygy3vUinEB8HqxN+OnwWtjQ8yLMZ0n+r+AqKD8Mch/LkM3w/xrykvuC6/YG3zhvXhG9bY5c+KxF9suf87hQVU5aLx44z63Ka+BdbnTojcYGvmsMgNtucNivxge1YSEcBGWbv4ddB2vvfuh38Fqm5fGvmTDDsokUgkEsn/yw/EenQJh3TQlgAAAABJRU5ErkJggg==) -20px -38px
          no-repeat #404040;
        background-attachment: inherit;
        border-radius: 10px;
      }

      .cellLabel,
      .cellValue {
        height: 44px;
        background: #404040;
      }

      .cellLabel {
        width: 90px;
        font-size: 14px;
        text-align: right;
        border-top-left-radius: 10px;
        border-bottom-left-radius: 10px;
      }

      .cellValue {
        width: 160px;
        font-size: 32px;
        text-align: left;
        border-top-right-radius: 10px;
        border-bottom-right-radius: 10px;
      }

      .cellSpacer {
        width: 0;
        background: 0 0;
      }

      .cellShare,
      .cellStatus {
        width: 100%;
        text-align: center;
        border-radius: 10px;
      }

      .cellStatus {
        height: 84px;
        font-size: 30px;
        background: #00f;
      }

      .cellShare {
        height: 30px;
        font-size: 16px;
        background: #404040;
      }

      .shareText {
        display: inline-block;
        min-width: 100px;
        margin-left: 5px;
        width: 440px;
        padding: 2px;
        font-size: 16px;
        font-family: Arial, sans-serif;
        color: #00f;
      }

      .setting,
      canvas {
        margin: 0;
      }

      .box,
      .choice {
        font-family: Arial, sans-serif;
      }

      .shareButton {
        vertical-align: bottom;
        border: 0;
        padding: 0;
        margin: 0;
      }

      .shareButtonGroup {
        display: inline-block;
        vertical-align: bottom;
      }

      #testmodule,
      .logo {
        display: inline;
      }

      .noticeText {
        text-align: center;
      }

      .box {
        padding: 2px 6px;
        color: #fff;
      }

      canvas {
        image-rendering: crisp-edges;
        image-rendering: -o-crisp-edges;
        image-rendering: -moz-crisp-edges;
        image-rendering: -webkit-optimize-contrast;
        image-rendering: optimizeSpeed;
        -ms-interpolation-mode: nearest-neighbor;
        padding: 0;
        border: none;
      }

      #masteroptions,
      .choice {
        display: inline-block;
        white-space: nowrap;
      }

      #masteroptions {
        float: right;
      }

      .choice {
        font-size: 12px;
        margin: 4px 12px 0;
      }

      .nonselectable {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      select option[disabled] {
        color: silver;
      }

      .outline {
        padding: 6px;
        width: 16em;
        background: #fff;
        font-family: Arial, sans-serif;
        border-radius: 10px;
        border: 4px solid grey;
      }

      .description,
      .options {
        width: auto;
        max-width: 928px;
      }

      .description,
      .warning {
        font-family: Arial, sans-serif;
        background: #f0f0f0;
      }

      .description {
        padding: 6px 15px 2px;
        font-size: 12px;
        text-align: left;
        border-radius: 10px;
        color: #202020;
        margin: 0 auto;
      }

      .options {
        margin: 0 auto 4px;
        text-align: center;
      }

      .warning {
        padding: 8px 0;
        color: red;
        font-size: 20px;
      }

      .callout {
        font-size: 16px;
        padding-bottom: 4px;
      }

      .whitelink a:link,
      .whitelink a:visited {
        color: #fff;
      }

      .whitelink a:hover {
        color: #ff0;
      }

      input[type='color'] {
        width: 50px;
      }

      .asterik {
        color: red;
        font-weight: bolder;
      }

      .noscript {
        text-align: center;
        font-family: Arial, sans-serif;
        font-size: 20px;
        color: red;
      }

      .easteregg {
        position: fixed;
      }
    </style>
    <script type="text/javascript">
      //--------------------------------------------------------------------------------------------------------------
      // Copyright (C) 2012-2018 by Mark D. Rejhon of Blur Busters / Rejhon Technologies Inc. +++H
      // All rights reserved.  Please do not copy this file -- contact me if you need to license the BlurBusters Tests.
      // mark@blurbusters.com
      //--------------------------------------------------------------------------------------------------------------
      // EMBEDDING IS PERMITTED WITHIN RULES
      // Permission is granted to embed TestUFO for free (just like embedded YouTubes) within an IFRAME as long you
      // meet the terms of BlurBusters/TestUFO license agreement and give credit to TestUFO / Blur Busters.
      // In short summary:
      // (1) Your site must not be a clone/competitor of TestUFO with competing motion tests.
      // (2) Your site must be an eligible site (not a link farm / unethical injection of outside advertisements)
      // (3) Embedding inside articles & reviews is allowed (as long as permission granted & full credit)
      // (4) You must not block clicking on TestUFO. Clicking on the embed will open TestUFO in a new tab.
      // (5) You must not cache or copy TestUFO code, it must be an IFRAME pointing to www.testufo.com
      // INSTRUCTIONS: To embed within your site, add "?embed=1" to any TestUFO URL (before the '#' character if any)
      // DISCLAIMER: Permission may be revoked at any time if your site runs afoul of Blur Busters / TestUFO agreement.
      //--------------------------------------------------------------------------------------------------------------
      // THIS CODE IS COPYRIGHTED. DO NOT COPY. VIOLATORS WILL BE PROSECUTED.
      // FOR INQUIRIES OR LICENSING, contact mark@blurbusters.com
      //--------------------------------------------------------------------------------------------------------------

      var domain = 'testufo.com';
      var defaultTest = 'framerates';
      var buttonFullScreenImg = new Image();
      var buttonFullScreenExitImg = new Image();
      var buttonFullScreenW = 112;
      var buttonFullScreenH = 112;
      var buttonPlay = new Image();
      var suffixPath = '%2E%68%74%6D%6C';
      var test = null;
      var testLoading = false;
      var testLoaded = false;
      var testReady = false;
      var testLoadQueued = null;
      var parsedQuery = null;
      var embedSignalled = false;
      var fullScreenSignalled = false;
      var firstLoaded = false;
      var refreshSet = false;
      var animID = null;
      var selectedTest = null;
      var mousePosX = 0;
      var mousePosY = 0;
      var lastActivity = 0;
      var unicornFound = 0;
      var isPauseChecked = false;
      var isPaused = false;
      var prefixEightCharacter = '%5F%5F';
      var _gaq = _gaq || [];
      var xhr = null;
      var jankMonitorArmed = false;
      var jankStarted = false;
      var jankBeganTime;
      var jankReloadThreshold = 15000;

      // Reset the stutter monitor
      function jankMonitorReset() {
        jankMonitorArmed = false;
        jankStarted = false;
      }

      // Stutter monitor.
      // These are used for TestUFO animations that have a kiosk mode
      function jankMonitor() {
        // if (!Params.params || !Params.params.kiosk) return;
        if (document.hidden) {
          // Tab is in background. Don't do a thing.
          jankStarted = false;
        } else if (frameTiming.status == frameTiming.STATUS.GOOD) {
          // Detected smooth condition (after animation startup.  Reset the jank monitor.
          if (!jankMonitorArmed)
            console.log('TestUFO Kiosk Mode: Stutter monitor now active.');
          jankMonitorArmed = true;

          if (jankStarted)
            console.log('TestUFO Kiosk Mode: ...stutters stopped. Yay!');
          jankStarted = false;
        } else if (jankMonitorArmed) {
          if (!jankStarted) {
            // Stutter has started
            jankStarted = true;
            jankBeganTime = performance.now();
            console.log('TestUFO Kiosk Mode: ...stutters STARTED.');
          } else if (performance.now() - jankBeganTime > jankReloadThreshold) {
            // Stutter was ongoing for too long, force page reload
            console.log(
              'TestUFO Kiosk Mode: ...stutters still ongoing, attempting force REFRESH.'
            );
            jankStarted = false;
            location.reload();
            // TODO: Fix above so it works in offline mode
          }
        }
      }

      function parseQueryString(search) {
        var args = search.substring(1).split('&');
        var argsParsed = {};
        var i, arg, kvp, key, value;
        for (i = 0; i < args.length; i++) {
          arg = args[i];
          if (-1 === arg.indexOf('=')) {
            argsParsed[decodeURIComponent(arg).trim()] = true;
          } else {
            kvp = arg.split('=');
            key = decodeURIComponent(kvp[0]).trim();
            value = decodeURIComponent(kvp[1]).trim();
            argsParsed[key] = value;
          }
        }
        return argsParsed;
      }

      function getQueryVariable(variable) {
        if (!parsedQuery)
          parsedQuery = parseQueryString(window.location.search);
        if (parsedQuery) return parsedQuery[variable];
        return undefined;
      }

      function startup() {
        _gaq.push(['_setAccount', 'UA-42431933-1']);
        _gaq.push(['_trackPageview']);

        if (
          gfx.init('area51') &&
          zoomer.init('area51', 'ufoheader', 'ufofooter')
        ) {
          browserDetect.init();

          // Initialize buttons
          buttonFullScreenImg.src = 'images/button_fullscreen_96.png';
          buttonFullScreenExitImg.src = 'images/button_fullscreenexit_96.png';

          // Translation for embeds
          if (window.location.hash) {
            var hashText = window.location.hash;
            hashText = hashText.replace(/,/g, '&').replace(/ /g, '=');
            if (hashText.indexOf('?') > 0)
              hashText = hashText.substr(0, hashText.indexOf('?'));
            if (hashText !== window.location.hash)
              window.location.hash = hashText;
          }
          Params.decodeHash();
          normalizeHash();

          window.onhashchange = onHashChanged;
          window.onpopstate = onPopState;
          window.onresize = canvasResize;
          window.onscroll = onScroll;
          window.onmove = onMove;
          window.onfullscreenchange = onFullScreenChange;
          window.onfullscreenerror = onFullScreenError;

          // Initialize mouse events
          gfx.canvas.onclick = canvasClick;
          if (window.PointerEvent) {
            gfx.canvas.onpointerdown = canvasMouseDown;
            gfx.canvas.onpointerup = canvasMouseUp;
            gfx.canvas.onpointermove = canvasMouseMove;
          } else {
            gfx.canvas.onmousedown = canvasMouseDown;
            gfx.canvas.onmouseup = canvasMouseUp;
            gfx.canvas.onmousemove = canvasMouseMove;
          }

          // Initialize touch events
          gfx.canvas.touchstart = canvasTouch;
          gfx.canvas.touchend = canvasTouch;
          gfx.canvas.touchmove = canvasTouch;
          gfx.canvas.touchcancel = canvasTouch;

          // Initialize keypress events
          document.onkeyup = canvasKeyUp;
          document.onkeydown = canvasKeyDown;
          document.onkeypress = canvasKeyPress;

          // Canvas parameters
          gfx.webkitImageSmoothingEnabled = true;
          gfx.surface.globalAlpha = 1.0;

          var testToLoad = defaultTest;
          if (Params.params.test) testToLoad = Params.params.test;
          loadTest(testToLoad);
        } else {
          frameTiming.error(gfx.message);
        }
        (function () {
          var ga = document.createElement('script');
          ga.src =
            ('https:' === document.location.protocol
              ? 'https://ssl'
              : 'http://www') + '.google-analytics.com/ga.js';
          ga.setAttribute('async', 'true');
          document.documentElement.firstChild.appendChild(ga);
        })();
        updateZoomedState();
      }

      function canvasResize() {
        zoomer.sync();
        if (testLoaded && test && test.onResize) {
          test.onResize();
        }
        if (isPaused) animateFrame();
      }

      function checkMobileEmbed() {
        if (isPauseChecked) return;
        isPauseChecked = zoomer.isEmbedded() && browserDetect.mobile === 'yes';
        isPauseChecked |= !!Params.params.paused;
        if (isPauseChecked) {
          isPauseChecked = true;
          isPaused = true;
          buttonPlay.src = 'images/ufo-play.png';
          buttonPlay.onload = function () {
            animateFrame();
          };
        }
      }

      function updateTestParams() {
        if (testLoaded && test && test.onChange) {
          Params.setScope('options');
          Params.loadDefaults();
          Params.resetSelections();
          test.onChange();
        }
      }

      function onPopState() {
        var path = getPath();
        if (!path) path = defaultTest;
        if (path.indexOf('.') > 0) return;
        if (path.indexOf('translate') === 0) return;
        if (path === Params.params.test) return;

        Params.clearParams();
        Params.decodeHash();
        loadTest(path);
      }

      function onHashChanged() {
        var oldTest = Params.params.test;
        Params.clearParams();
        Params.decodeHash();
        Params.params.test = selectedTest;
        if (oldTest !== selectedTest) {
          loadTest(Params.params.test);
          return;
        }
        if (Params.params.pps) {
          frameTiming.updatePixelsPerSec(Params.params.pps);
        }
        frameTiming.sync('Test Modified', frameTiming.RESYNC.HARD);
        updateTestParams();
        updateShareText();
        updateZoomedState();
      }

      function getPath() {
        var path = location.pathname;
        if (path.charAt(0) === '/') {
          path = path.substr(1);
        }
        if (path.length > 1 && path.charAt(path.length - 1) === '/') {
          path = path.substr(0, path.length - 1);
        }
        return path;
      }

      function normalizeHash(newPage) {
        // TODO: Fix compatibility with Google Translate
        if (location.protocol !== 'http:' && location.protocol !== 'https:') {
          Params.encodeHash();
          Params.commitHash();
          return;
        } else if (location.pathname.indexOf('.') > 0) {
          Params.encodeHash();
          Params.commitHash();
          return;
        }

        var path = getPath();
        if (path === 'strobelight') {
          _gaq.push(['_trackEvent', 'Referrer', 'Strobelight']);
          path = defaultTest;
        } else if (path.indexOf('translate') === 0) {
          if (Params.params && Params.params.test) {
            path = Params.params.test;
          }
        }

        // Determine what test we're running based on URL
        var prevHash = Params.currentHash;
        var prevPath = path;
        if (newPage) {
          Params.params.test = newPage;
          path = newPage;
        } else if (path.length > 0) {
          Params.params.test = path;
        } else if (Params.params.test) {
          path = Params.params.test;
        } else {
          Params.params.test = defaultTest;
          path = defaultTest;
        }
        if (window.location.search) {
          path = path.split('?')[0];
        }
        Params.encodeHash('test');

        // If no arguments specified for default test, URL has no path (www.testufo.com instead of www.testufo.com/framerates ...)
        var isRunningDefault = Params.params.test === defaultTest;
        var isBlankHash = !Params.currentHash || Params.currentHash === '#';
        if (isRunningDefault && isBlankHash) path = '';
        var pathAndHash =
          (path ? '/' : '') + path + (!isBlankHash ? Params.currentHash : '');

        /*alert("PrevPath: " + prevPath +
"\nPath: " + path +
"\nNew: " + newPage +
"\nLoad: " + Params.params.test +
"\nOld Hash: " + prevHash +
"\nNew Hash: " + Params.currentHash);*/

        // Replace URL seamlessly, with browser history preservation
        if (
          prevPath !== path ||
          prevHash !== Params.currentHash ||
          window.location.search
        ) {
          var protocol = window.location.protocol;
          if (protocol.charAt(protocol.length - 1) === ':') {
            protocol = protocol.substr(0, protocol.length - 1);
          }
          var reformattedPath =
            protocol + '://' + window.location.host + pathAndHash;
          if (!history.replaceState) {
            // (IE9 doesn't have replaceState)
            window.location = reformattedPath;
          } else if (prevPath === path && !window.location.search) {
            Params.commitHash();
          } else if (!newPage) {
            history.replaceState(
              {
                page: this.href,
              },
              window.document.title,
              reformattedPath
            );
          } else {
            history.pushState(
              {
                page: this.href,
              },
              window.document.title,
              reformattedPath
            );
          }
        }
      }

      function onWindowFocus() {
        if (test && test.onWindowFocus) test.onWindowFocus();
      }

      function onRefreshRateChange() {
        if (!refreshSet) {
          refreshSet = true;
          _gaq.push([
            '_trackEvent',
            'Refresh Rate',
            frameTiming.refreshRate.toString(),
          ]);
          if (
            unicornFound !== frameTiming.refreshRate &&
            frameTiming.refreshRate > 100
          ) {
            if (browserDetect.mobile === 'yes') {
              _gaq.push([
                '_trackEvent',
                'Unicorn Browser',
                frameTiming.refreshRate +
                  ' Hz on ' +
                  browserDetect.browser +
                  ' ' +
                  browserDetect.version +
                  ' (' +
                  browserDetect.OS +
                  ')',
              ]);
              _gaq.push([
                '_trackEvent',
                'Unicorn Agent',
                frameTiming.refreshRate +
                  ' Hz on ' +
                  browserDetect.browser +
                  ' ' +
                  browserDetect.version +
                  ' (' +
                  browserDetect.OS +
                  ') == ' +
                  navigator.userAgent,
              ]);
              unicornFound = frameTiming.refreshRate;
            }
          }
        }
        if (testLoaded && test.onRefreshRateChange) test.onRefreshRateChange();
      }

      function onSettingChanged() {
        if (
          selectedTest !== masterTests.options[masterTests.selectedIndex].value
        )
          masterStartTest();
        if (testLoaded && test.onChange) {
          Params.setScope('options');
          Params.saveSelections();
          test.onChange();
          Params.encodeHash('test');
          Params.commitHash();
          if (!getPath()) {
            normalizeHash(Params.params.test);
          }
          frameTiming.sync('Test Modified', frameTiming.RESYNC.HARD);
          _gaq.push([
            '_trackEvent',
            'Params Changed',
            Params.params.test + Params.currentHash,
          ]);
        }
        updateShareText();
      }

      function updateZoomedState() {
        if (getQueryVariable('embed')) {
          Params.params.embed = 1;
        }

        if (parseInt(Params.params.embed)) {
          zoomer.goEmbed();
          checkMobileEmbed();
          if (!embedSignalled) {
            embedSignalled = true;
            _gaq.push(['_trackEvent', 'Embed', Params.params.embed]);
          }
        } else if (parseInt(Params.params.fullscreen)) {
          zoomer.goZoom();
        } else {
          zoomer.exitZoom();
        }
      }

      function drawMainOverlayGraphics() {
        gfx.surface.globalAlpha = 1.0;
        var width = zoomer.getWidth();
        var height = zoomer.getHeight();
        var top = 0;
        var left = 0;
        if (isPaused) {
          if (buttonPlay.complete) {
            var buttonSize = width / 2;
            if (buttonSize > height / 2) buttonSize = height / 2;
            if (buttonSize > buttonPlay.width) buttonSize = buttonPlay.width;
            left = (width - buttonSize) / 2;
            top = (height - buttonSize) / 2;
            gfx.surface.globalAlpha = 0.25;
            gfx.surface.fillStyle = '#000000';
            gfx.surface.fillRect(0, 0, width, height);
            gfx.surface.globalAlpha = 0.8;
            gfx.surface.drawImage(
              buttonPlay,
              left,
              top,
              buttonSize,
              buttonSize
            );
            gfx.surface.globalALpha = 1.0;
          }
          return;
        }
        if (buttonFullScreenImg.complete && buttonFullScreenExitImg.complete) {
          if (performance.now() - lastActivity < 1500) {
            left = width - buttonFullScreenW;
            top += ((buttonFullScreenW - buttonFullScreenImg.width) / 2) << 0;
            left += ((buttonFullScreenH - buttonFullScreenImg.height) / 2) << 0;
            var scrollbar =
              window.innerWidth - document.documentElement.clientWidth;
            if (scrollbar < 0) scrollbar = 0;
            left -= scrollbar;
            if (zoomer.isZoomed()) {
              gfx.surface.drawImage(buttonFullScreenExitImg, left, top);
            } else {
              gfx.surface.drawImage(buttonFullScreenImg, left, top);
            }
          }
        }
      }

      function loadTest(testName) {
        if (testName.indexOf('translate') === 0) testName = '';
        if (!gfx.initialized) return;
        if (testLoading) {
          // Interruption: Test change during test loading
          testLoadQueued = testName;
          return;
        }
        testLoadQueued = null;
        animateStop();
        zoomer.setPreferredHeight(240);
        testLoaded = false;
        testReady = false;
        var startup = !firstLoaded;

        // Attempt to initialize test if loaded by PHP
        if (!firstLoaded && window.Test && !test) {
          if (initializeTest()) {
            if (testName === '' && test && test.name) {
              // Google Translate compatibility
              testName = test.name;
              Params.params.test = testName;
              normalizeHash();
            }
            testLoaded = test.name === testName;
          }
        }
        if (testName === '') testName = defaultTest;

        Params.params.test = testName;
        Params.setScope('masteroptions');
        var found = Params.selectValue('masterTests', testName);
        if (selectedTest !== testName) {
          frameTiming.sync(
            'Initializing ' +
              masterTests.options[masterTests.selectedIndex].text +
              '...',
            frameTiming.RESYNC.HARD
          );
        }
        selectedTest = testName;

        if (found === false) {
          var opt = document.createElement('option');
          opt.text = 'Hidden Test: ' + testName;
          opt.value = testName;
          document.getElementById('masterTests').options.add(opt);
          Params.selectValue('masterTests', testName);
        }
        if (startup) {
          _gaq.push(['_trackEvent', 'Test Loaded', testName]);
          _gaq.push([
            '_trackEvent',
            'Browser',
            browserDetect.browser +
              ' ' +
              browserDetect.version +
              ' (' +
              browserDetect.OS +
              ')',
          ]);
          _gaq.push([
            '_trackEvent',
            'Resolution',
            screen.width + 'x' + screen.height,
          ]);
          _gaq.push([
            '_trackEvent',
            'Agent',
            browserDetect.browser +
              ' ' +
              browserDetect.version +
              ' (' +
              browserDetect.OS +
              ') == ' +
              navigator.userAgent,
          ]);
          if (Params.paramCount > 1)
            _gaq.push(['_trackEvent', 'Params Direct', Params.currentHash]);
        } else {
          normalizeHash(Params.params.test);
          _gaq.push(['_trackEvent', 'Test Changed', testName]);
        }

        // Begin AJAX loading test if not already loaded earlier (PHP, AJAX).
        if (!testLoaded) {
          if (test && test.onStop) test.onStop();
          testLoading = true;
          test = null;
          window.Test = null;
          var testModule = document.getElementById('testmodule');
          testModule.style.display = 'none';
          zoomer.sync();
          //$.get("_" + testName + ".html", testFinishedLoading);

          if (xhr) {
            xhr.abort();
            xhr = null;
          }
          xhr = new XMLHttpRequest();
          try {
            xhr.open('GET', prefixEightCharacter + testName + suffixPath, true);
            xhr.responseType = 'text';
            xhr.onreadystatechange = testLoadingStateChanged;
            xhr.send();
          } catch (error) {
            testLoading = false;
            testLoadError(xhr.status, 'exception thrown');
            xhr = null;
          }
        }
      }

      function testLoadingStateChanged() {
        if (this.readyState < 4) return;
        var succeeded = false;
        testLoading = false;
        if (!testLoadQueued && this && this.status === 200) {
          if (this.responseText.indexOf('script') < 3) {
            //$("#testmodule").html(this.responseText);
            insertAndExecute('testmodule', this.responseText);
            succeeded = initializeTest();
          }
        }

        if (!succeeded) testLoadError(this.status, 'final error');
        if (testLoadQueued !== null) loadTest(testLoadQueued);
        xhr = null;
      }

      function testLoadError(status, message) {
        console.log(
          'Failed to load TestUFO Test: ' +
            Params.params.test +
            '\n  Status: ' +
            status +
            '\n  Message: ' +
            message
        );
        frameTiming.error('Error Loading Test: ' + Params.params.test);
        _gaq.push(['_trackEvent', 'Error Loading', Params.params.test]);
      }

      function insertAndExecute(id, text) {
        document.getElementById(id).innerHTML = text;
        var scripts = Array.prototype.slice.call(
          document.getElementById(id).getElementsByTagName('script')
        );
        var scriptCount = scripts.length;
        for (var i = 0; i < scriptCount; i++) {
          var newScript = document.createElement('script');
          newScript.innerHTML = scripts[i].innerHTML;
          var scriptParent = scripts[i].parentNode;
          scriptParent.removeChild(scripts[i]);
          scriptParent.appendChild(newScript);
        }
      }

      function initializeTest() {
        if (window.Test && !testLoaded) {
          firstLoaded = true;
          test = new Test();
          Params.setScope('options');
          test.onStart();
          testLoaded = true;
          updateTestParams();
          jankMonitorReset();

          var testModule = document.getElementById('testmodule');
          testModule.style.display = 'inline';
          var title = document.getElementById('title');
          if (title) {
            window.document.title = 'UFO Test: ' + title.innerHTML;
            _gaq.push(['_set', 'title', window.document.title]);
          }
          var selections = Params.getSelections();
          if (selections !== null) {
            for (var i = 0; i < selections.length; i++) {
              selections[i].onchange = onSettingChanged;
            }
          }

          updateShareText();
          animateStop();
          animateFrame();
          return true;
        }
        return false;
      }

      function updateShareText() {
        var path = Params.params.test ? Params.params.test : defaultTest;
        var isRunningDefault = path === defaultTest;
        var isBlankHash = !location.hash || location.hash === '#';
        if (isRunningDefault && isBlankHash) path = '';
        if (!isBlankHash) path += location.hash;
        document.getElementById('share').value =
          'www.testufo.com' + (path ? '/' : '') + path;
      }

      function shareClick() {
        document.getElementById('share').select();
      }

      function ShareWindow(e, n, t, i) {
        var o = void 0 !== window.screenLeft ? window.screenLeft : screen.left;
        var d = void 0 !== window.screenTop ? window.screenTop : screen.top;
        var width = window.innerWidth
          ? window.innerWidth
          : document.documentElement.clientWidth
          ? document.documentElement.clientWidth
          : screen.width;
        var height = window.innerHeight
          ? window.innerHeight
          : document.documentElement.clientHeight
          ? document.documentElement.clientHeight
          : screen.height;
        var c = width / 2 - t / 2 + o,
          w = height / 2 - i / 2 + d,
          h = window.open(
            e,
            n,
            'scrollbars=yes, width=' +
              t +
              ', height=' +
              i +
              ', top=' +
              w +
              ', left=' +
              c
          );
        window.focus && h.focus();
      }

      function shareFacebook() {
        var shareURL = document.getElementById('share').value;
        var newLocation =
          'https://www.facebook.com/sharer/sharer.php?u=' +
          encodeURIComponent(shareURL);
        ShareWindow(newLocation, 'sharefacebook', 720, 480);
      }

      function shareTwitter() {
        var shareURL = document.getElementById('share').value;
        var newLocation =
          'https://twitter.com/home?status=' +
          encodeURIComponent(
            window.document.title +
              ' ' +
              shareURL +
              ' from @BlurBusters motion tests'
          );
        ShareWindow(newLocation, 'sharetwitter', 720, 480);
      }

      function masterStartTest() {
        if (!gfx.initialized) return;
        var testValue = masterTests.options[masterTests.selectedIndex].value;
        if (selectedTest === testValue) return;
        if (testValue !== '') {
          frameTiming.init();
          Params.clearParams();
          loadTest(testValue);
        }
      }

      function masterSelectTest(direction) {
        var newIndex = masterTests.selectedIndex + direction;
        if (direction === 0) direction = 1;
        while (
          newIndex >= 0 &&
          newIndex < masterTests.length &&
          masterTests.options[newIndex].value === ''
        ) {
          newIndex += direction;
        }
        if (newIndex >= 0 && newIndex < masterTests.length) {
          masterTests.selectedIndex = newIndex;
        }
        masterStartTest();
      }

      function canvasClick(e) {
        var handled = false;
        // Embedded: Clicking on embed always launches TestUFO into a new tab/window.
        if (!testLoaded) {
          return;
        } else if (
          e.getModifierState &&
          e.getModifierState('Control') &&
          e.getModifierState('Alt') &&
          e.getModifierState('Shift')
        ) {
          Params.clearParams();
          loadTest('animation-time-graph');
          handled = true;
        } else if (isPaused) {
          isPaused = false;
          animateFrame();
          handled = true;
        } else if (zoomer.isEmbedded()) {
          var newURL = location.href;
          if (newURL.indexOf('#')) {
            newURL = newURL.substring(0, newURL.indexOf('#'));
          }
          window.open(newURL + Params.getHash('embed'));
          handled = true;
        } // Upper right corner is always full screen toggle.
        else if (
          mousePosX > window.innerWidth - buttonFullScreenW &&
          mousePosY < buttonFullScreenH
        ) {
          zoomer.toggleZoom();
          Params.params.fullscreen = zoomer.isZoomed() ? 1 : 0;
          normalizeHash();

          _gaq.push([
            '_trackEvent',
            'Full Screen',
            zoomer.isZoomed().toString(),
          ]);
          if (test && test.onResize) test.onResize();
          handled = true;
        } // Otherwise, pass on click event to the canvas
        else if (test && test.onClick) {
          handled = test.onClick();
        }

        // Easily exit full screen mode on click-anywhere (if not already handled by click event)
        if (!handled) {
          if (zoomer.isZoomed()) {
            zoomer.exitZoom();
            _gaq.push([
              '_trackEvent',
              'Full Screen',
              zoomer.isZoomed().toString(),
            ]);
            if (test && test.onResize) test.onResize();
          }
        }
      }

      function onScroll(e) {
        lastActivity = performance.now();
      }

      function onMove(e) {
        lastActivity = performance.now();
      }

      function onFullScreenChange() {
        lastActivity = performance.now();
      }

      function onFullScreenError() {
        lastActivity = performance.now();
      }

      function canvasTouch(e) {
        lastActivity = performance.now();
      }

      function canvasMouseMove(e) {
        lastActivity = performance.now();
        if (isPaused) return;
        var rect = gfx.canvas.getBoundingClientRect();
        mousePosX = Math.round(e.clientX - rect.left);
        mousePosY = Math.round(e.clientY - rect.top);
        if (testLoaded && test && test.onMouseMove)
          test.onMouseMove(mousePosX, mousePosY, e);
      }

      function canvasMouseDown(e) {
        lastActivity = performance.now();
        if (isPaused) return;
        if (testLoaded && test && test.onMouseDown) test.onMouseDown(e.buttons);
      }

      function canvasMouseUp(e) {
        lastActivity = performance.now();
        if (isPaused) return;
        if (testLoaded && test && test.onMouseUp) test.onMouseUp(e.buttons);
      }

      function canvasKeyUp(e) {
        if (isPaused) return;
        if (
          testLoaded &&
          test &&
          test.onKeyUp &&
          document.activeElement instanceof HTMLBodyElement
        )
          test.onKeyUp(e.which || e.keyCode);
      }

      function canvasKeyDown(e) {
        if (isPaused) return;
        if (
          testLoaded &&
          test &&
          test.onKeyDown &&
          document.activeElement instanceof HTMLBodyElement
        )
          test.onKeyDown(e.which || e.keyCode);
      }

      function canvasKeyPress(e) {
        if (isPaused) return;
        if (
          testLoaded &&
          test &&
          test.onKeyPress &&
          document.activeElement instanceof HTMLBodyElement
        )
          test.onKeyPress(e.which || e.keyCode);
      }

      function animateStop() {
        if (animID !== null) {
          cancelAnimFrame(animID);
          animID = null;
        }
      }

      function animateFrame() {
        if (!test || !testLoaded) {
          animateStop();
          return;
        }
        animID = requestAnimFrame(animateFrame);
        if (!testReady) {
          testReady = test.isReady ? test.isReady() : true;
        }
        if (!isPaused || testReady) {
          frameTiming.updateTime();
          test.onPaint();
          drawMainOverlayGraphics();
          frameTiming.accuracyCheck();
          if (isPaused) animateStop();
          jankMonitor();
        }
      }

      window.onload = startup;
    </script>
    <title>UFO Test: Framerates</title>
  </head>

  <body onfocus="onWindowFocus();">
    <div id="ufoheader">
      <table class="intro">
        <tr>
          <td class="cellHeader box">
            <div class="logo">
              <a href="//blurbusters.com" target="_blank">
                <img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAAcCAMAAAB7/9WEAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwAAADsABataJCQAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xNzNun2MAAAA5UExURUBAQEBAQEBAQElJSVFRUVlZWWBgYGlpaXJycn19fYiIiJOTk6CgoK+vr7y8vM3Nzd3d3e7u7v///9RRxZsAAAACdFJOUwCB7Cx+jgAABoRJREFUaN7tWdm2rCgMLQbRQlTw/z+2JQkQEGo4a/VDry4e7vUIZtiETZJ6PH7jfzOEzOPfkMGmxno+tOCdmMdXn4u73fL9EG/8G0n5RPZbta8skS+Bll9h98Zn7vYHn9fOfwp0K7qDyfDLZQ/nuVv1J6hJF5PRGvI84whS7vCwsRVFjI9T6i3Q7sxj6gH9ahMeyYJozf5Ed9cQ/zwy0LhiBY9gZqIlMPblhvS10KfpwxkQOh2gIy5e4XGPb9WRlC/SnvWwxbQ4fLaMqxW1jNYOiXO7nHDJUu39hH5NtAX9qBBZVqhsSVvN18K2zt2wz7agqbhoJVl8hcNPHYQHLslYqruDM5vfYP8Uc9STYxEjv9rVR1jvQHPTzrOrtpHR2qGTKIrG+uCsGJwfndbKpXWw9DgJnjvSEgP2MtHAKh2nLQVcs0IigDtboi0Fv2zIyiA0yha74pPJHlqSgpFk/AX0qklwnDPOFsU6npCu2kaG7DLHuRDgGwi+ZHngmYBCiDn4THwVlEPTO8yhnpdpYYNNgs+C0/mESJg9j6W5EZI3KpzF/+hOuyI+GoIt7QXG4XTz0KQYtPggMtBx1tIBOzL0apE64UabOvMdvpzuqm1kyC5znJPLzJHg2lOE+sQcZQYR20O2mAhYEd9LEzJX58+CouPmplDOZA9o+GR7D7StPIZYeY6B1nR3tEAbCvK5OX0F6PooSd9V28roMseZ/lcsLDU9rituAZtBTgknj6FI3MuJHDoxenvmZ0P3Urmf9gHQ62cRXQMtKVJGQKtBRBuKxmOqcwibdAkCmsJVTl21jQxRW7EiXrtNzAFRbOg4MOYIqprBV8S4IvPhRsh7sAKBjkKeBlYSc0Tovdrb+GNA+4ajP49oPQZ6Qdp6dIF2eNQKRgzopBjCVbF4r9R2ZDDmAEQugMPpA2yMh2seEZzxUEwYpnwGEdMUv1mcooQDAnuBzxd4Bmxdult93gDdBToeJT/Jb4G2uHNiAPQc6ELpAk1H2q8TodQBGs7g9UaIR0dtR0YxAtkXghqCUYFVlhB0jCbmagYRS7layVnprtvKrahXlsvgXqkqLekm0m6p4+YDoOP1H5ZOoWByymm1HAKNtifLxkDTm47ajoyaOQ6Q4R3DlhDkzFHP8OhOIgtzaJZh4jvMinlWTimt7FcsEZUWaMHupBZock/1Sl/D8+iJp3cF6EeuYyhP/wzoWu1dRs0ceFktgWHbYw4+84Y5yvV3fU5+7qpk5XuunuS9NLwcmex5zzqqy78FeoMsx3dqzpJHz2C76QMtZK42+VQNNGSemp21Wu1dRs0cM3rNsO0xRzXzhjnqqmTyFNt0DkpVNQ+AJnCWBmhthkBbOaXUewQ07ZLvAp1KXSw/3ABoc0/+mNqOjJo5AB77NXMcr5nDwV8HZfjg61S4GdNsOwQaPt450PHZMudboDFGphFHy0xdpuRqFUensCgKe0AjnLPuqO3IqJkDMjx9jphjvjNHFd0D5phVzuMpiazqedUpLtCbpUqeSrZ6BY/FQ+Oy0JnXFTs1HXpZh0cgEtCu9DoOuql5ZfICaIFAmo7ajoyKOTSEETKHKQjaxByu5Bz1zJA5dpAFfymXgzvlh5h2Tp2cl0d0Kg1tblBdh/RJsQGbdZXpvirg0sa3KWyJaJ12WkMiTxzlsIZxpVG5DIB+Zi5UHbUdGZw5oKwICqEAdjEbvEnMEQC2zkzNHLS30Y8Ad58H1CE5xyPLq5VMDXVWnzs3NjX58Fo0xsS2pCH2jjeaPs5QUu3c9IDPRa+pdJ3yg7d/zkMDhVHnLXU7HTWm2A5m03y0CCzpqr3JqJgDUHAKHSspy0LZQiDm4DMD5tCpPRpK97AkehuJ2BxrWQ8aLzmPqpuRSKZ40R+5pMGLJrcGIeyGbVIokUVq1x4es6GUWp977N5sQD/UXN4S0JVpZ19tK6NiDhWPuEbmyClnzLwwR3PIHNXMgDme6a5L4EQfQnnGKmZ5MkkN0MWZsEOjssaZbi3s/OFPA4+05CgZtauBXkqT/Nhyi17q2PMP9CKK2aicMOkN68a0OJ99ta0Mzhxb/DeR6LX7QO3gJLDJOQciCDbTY45kC0TZs/igoUMKz5jMK8w0UdLbX9Ve/rzV/qjwyY9xOCl6v0IN3zz+9IPid359Lu8v34o3vxmK1yCJGjLRkysGOpsX4ubSx0CLN1v9EF9EzjdAV0i8tOfxG7/xG7/xG/+B8Q+sPO/xXluLcQAAAABJRU5ErkJggg=="
                  class="bannerImage"
                  width="360"
                  height="28"
                  alt="Blur Busters Motion Tests"
                />
              </a>
            </div>
            <div id="masteroptions">
              <a href="javascript:void(0);">
                <img
                  class="selectArrowButton"
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAGBQTFRF/////////////////////////////v7+/v7+/////v7+/v7+/////////v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+QEBAaWlp7Ozs////3v9z3AAAABx0Uk5TAAgQGCAwQEhYYGhweICHj5efp6+3v8/X3+fv9y8TzykAAAChSURBVChTdZJZEoMgFARHUAwYTOKWxZi5/y39QFH0pf/oLqDqAbCijDFG44htSZIcXLbXZmDkbTdfMeGeyZ58LOcsy9/0XUsFABiin9YwagDu7MkbgF7w/GTQkifLcPXJs4INPoGkh/sXSvmoKwqK5QK8pDIqoKZQWgB6FEoBxC37ITZhvB0PPFUIqj/4PD5hzR2dwkbeRG2Qoqz33rv4f2ZwSzDMruYtkAAAAABJRU5ErkJggg=="
                  width="24"
                  height="24"
                  onclick="masterSelectTest(-1);"
                />
              </a>
              <select
                class="selectTestMenu setting"
                title="Select one of the many Test UFO Motion Tests!"
                id="masterTests"
                onchange="masterSelectTest(0);"
              >
                <option value="" disabled>----------- Demos -----------</option>
                <option value="framerates">Compare Frame Rates: UFO</option>
                <option value="framerates-versus">
                  Compare Frame Rates: Video Game Motion
                </option>
                <option value="framerates-text">
                  Compare Frame Rates: Vertical Scrolling
                </option>
                <option value="blackframes">Black Frame Insertion</option>
                <option value="persistence">
                  Persistence of Vision &ndash;Optical Illusion
                </option>
                <option value="eyetracking">
                  Eye Tracking Motion Blur &ndash;Optical Illusion
                </option>
                <option value="mousearrow">
                  Phantom Array Effect &ndash;Mouse Arrow
                </option>
                <option value="stutter">Stutters and Tearing</option>
                <option value="vrr">Variable Refresh Rate Simulation</option>
                <option value="" disabled>----------- Tests -----------</option>
                <option value="ghosting">Ghosting / Pursuit Camera</option>
                <option value="blurtrail">Blur Trail / PWM</option>
                <option value="photo">Moving Photo</option>
                <option value="chase">Chase Squares</option>
                <option value="mprt">
                  Motion Picture Response Time (MPRT)
                </option>
                <option value="inversion">
                  Inversion Artifacts (Checkerboard Pattern)
                </option>
                <option value="aliasing-visibility">Aliasing Visibility</option>
                <option value="" disabled>
                  ----------- Special Tools -----------
                </option>
                <option value="frameskipping">
                  Frame Skipping &ndash;For Display Overclocking
                </option>
                <option value="refreshrate">
                  Refresh Rate With Decimal Digits
                </option>
                <option value="crosstalk">
                  Strobe Crosstalk For Blur Reduction
                </option>
                <option value="gtg-vs-mprt">GtG Versus MPRT</option>
                <option value="scanskew">
                  Scan-Out Skew &ndash;Tilting / Jelly Effect
                </option>
                <option value="blurbusterslaw">
                  Blur Busters Law &ndash;Motion Blur Physics
                </option>
                <option value="rainboweffect">
                  Color Sequential Rainbow Effect
                </option>
                <option value="interlace">Video Interlacing Simulation</option>
                <option value="scanout">
                  Scan-Out &ndash;For High Speed Camera
                </option>
                <option value="flicker">
                  Flicker &ndash;High Speed Video or Oscilloscope
                </option>
                <option value="animation-time-graph">
                  Browser Animation Timing Precision Graph
                </option>
              </select>
              <a href="javascript:void(0);">
                <img
                  class="selectArrowButton"
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAGBQTFRF/////////////////////////////v7+/v7+/////v7+/v7+/////////v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+QEBAaWlp7Ozs////3v9z3AAAABx0Uk5TAAgQGCAwQEhYYGhweICHj5efp6+3v8/X3+fv9y8TzykAAAClSURBVChTdZHdEoIgGAU3SUwNKy37UTvv/5bdCAhjewVnmcPABx5jrbUFGYdmlCRpqJO8fisw2nj8qoTWi5syVtP6/bx815UFMJMXSzAjwCVWRNPA4RNFNA+otCUYE69OjcVJmhOWr6T6n2g471dVnHZzlRThfdv8BQw7uTqg3MknA9B7ET+xA6B4KuO+zuOYmUeYfHHf5h0bbFD9kRTTOOdcHVp+ecgwzAb9ViQAAAAASUVORK5CYII="
                  width="24"
                  height="24"
                  onclick="masterSelectTest(1);"
                />
              </a>
            </div>
          </td>
        </tr>
      </table>
      <div id="testmodule">
        <script type="text/javascript">
          //--------------------------------------------------------------------------------------------------------------
          // Copyright (C) 2012-2017 by Mark D. Rejhon of Rejhon Technologies Inc.
          // All rights reserved.  Please do not copy this file -- contact me if you need to license the BlurBusters UFO.
          // mark@blurbusters.com
          //--------------------------------------------------------------------------------------------------------------
          function Test() {
            this.name = 'framerates';

            var colorBackground = '#000000';
            var STRIPHEIGHT = 80;
            var STRIPSPACING = 16;
            var MARGIN = 16;
            var SEPARATION = 960;
            var TEXTPOS = 40;
            var FONTSIZE = 24;
            var total = 0; //2;  // 用于显示 60 30 15 的分段
            var totalHeight = 0;
            var ufo = new Image();
            var stars = new Image();
            var backgroundScene = 'stars';
            var pos = 100;
            var framerateConfirmed = false;

            function updateFramerate(self, newFPS) {
              if (framerateConfirmed) return false;
              framerateConfirmed = true;
              if (parseInt(Params.params.count) === 2) {
                if (newFPS >= 178) {
                  Params.selectValue('count', '4');
                  self.onChange();
                } else if (newFPS >= 90) {
                  Params.selectValue('count', '3');
                  self.onChange();
                }
              }
              return true;
            }

            this.onStart = function () {
              ufo.src = '/images/blurbustersUFOborder.png';
              stars.src = '/images-test/framerates/stars-strip.jpg';
              frameTiming.pixelsPerFrame = -1;
            };

            this.onStop = function () {
              ufo = null;
              stars = null;
            };

            this.isReady = function () {
              return ufo && stars && ufo.complete && stars.complete;
            };

            this.onPaint = function () {
              var width = zoomer.getWidth();
              var height = zoomer.getHeight();
              gfx.surface.fillStyle = colorBackground;
              gfx.surface.fillRect(0, 0, width, height);
              var topEdge = Math.round((height - totalHeight) / 2);
              if (topEdge < 0) topEdge = 0;

              var divisor = 1;
              for (var i = 0; i < total; i++) {
                var vertPos =
                  topEdge + MARGIN + (STRIPHEIGHT + STRIPSPACING) * i;
                var offset =
                  frameTiming.pixelsPerFrame *
                  (frameTiming.frameCounter % divisor);

                var x;
                if (backgroundScene === 'stars') {
                  if (stars.complete) {
                    gfx.surface.globalAlpha = 0.75;
                    gfx.surface.fillStyle = colorBackground;
                    for (
                      x = -stars.width + (pos % stars.width) - offset;
                      x < width;
                      x += stars.width
                    ) {
                      gfx.surface.drawImage(stars, x, vertPos);
                    }
                    gfx.surface.globalAlpha = 1.0;
                    gfx.surface.fillRect(
                      0,
                      vertPos + STRIPHEIGHT,
                      width,
                      STRIPSPACING
                    );
                  }
                }

                var objectFPS = frameTiming.getDisplayableFPS(divisor);
                if (objectFPS > 0) {
                  gfx.surface.font = 'bold ' + FONTSIZE + 'px Verdana';
                  gfx.surface.lineWidth = 0;
                  gfx.surface.fillStyle = '#F0F0F0';
                  gfx.surface.fillText(
                    objectFPS.toString() + ' fps',
                    TEXTPOS,
                    vertPos + STRIPHEIGHT / 2 + FONTSIZE / 2
                  );
                  if (!framerateConfirmed) updateFramerate(this, objectFPS);
                }

                if (ufo.complete) {
                  for (
                    x = -ufo.width + (pos % SEPARATION) - offset;
                    x < width;
                    x += SEPARATION
                  ) {
                    gfx.surface.drawImage(
                      ufo,
                      x,
                      (vertPos + (STRIPHEIGHT - ufo.height) / 2) >>> 0
                    );
                  }
                }
                divisor = divisor * 2;
              }

              pos = pos + frameTiming.pixelsPerFrame;
            };

            this.onChange = function () {
              frameTiming.updatePixelsPerSec(
                parseInt(pps.options[pps.selectedIndex].value)
              );
              total = parseInt(count.options[count.selectedIndex].value);
              backgroundScene =
                background.options[background.selectedIndex].value;
              totalHeight =
                STRIPHEIGHT * total + STRIPSPACING * (total - 1) + MARGIN * 2;
              zoomer.setPreferredHeight(totalHeight);
            };
          }
        </script>
        <div id="title" class="title">Multiple Framerates</div>
        <div id="description" class="description">
          <div class="callout">Welcome to Blur Busters UFO Motion Tests.</div>
          <div>
            This screen compares multiple framerates. If using a
            <a href="//blurbusters.com/faq/120hz-monitors/" target="_blank"
              >120Hz monitor</a
            >
            , then 120fps is automatically added to this test (30fps vs 60fps vs
            120fps) in
            <a href="//www.testufo.com/browser.html" target="_new"
              >supported browsers</a
            >
            .
          </div>
          <div>
            Try these additional tests:
            <a href="/eyetracking">Eye Tracking Demo</a>|
            <a href="/framerates-versus">Video Game Panning Test</a>
            | <a href="/persistence">Persistence Demo</a>
            |
            <a href="/ghosting">Ghosting Test</a>
            <a href="/blackframes">Black Frame Insertion Demo</a>

            <div class="callout">
              Try more TestUFO animations in selectable list at top corner!
            </div>
          </div>
        </div>
        <div id="options" class="options">
          <div class="choice">
            Count Of UFOs:

            <select
              title="count"
              id="count"
              class="setting"
              data-format="integer"
              data-default="3"
              data-min="1"
              data-max="8"
            >
              <option value="1">1 UFO</option>
              <option value="2">2 UFOs</option>
              <option value="3">3 UFOs</option>
              <option value="4">4 UFOs</option>
              <option value="5">5 UFOs</option>
              <option value="6">6 UFOs</option>
            </select>
          </div>
          <div class="choice">
            Background:

            <select
              title="background"
              id="background"
              class="setting"
              data-format="text"
              data-default="stars"
            >
              <option value="none">None</option>
              <option value="stars">Stars</option>
            </select>
          </div>
          <div class="choice">
            Speed:

            <select
              title="pps"
              id="pps"
              class="setting"
              data-default="960"
              data-format="integer"
              data-min="60"
              data-max="10000"
            >
              <option value="120">120 Pixels Per Second</option>
              <option value="240">240 Pixels Per Second</option>
              <option value="480">480 Pixels Per Second</option>
              <option value="720">720 Pixels Per Second</option>
              <option value="960">960 Pixels Per Second</option>
              <option value="1200">1200 Pixels Per Second</option>
              <option value="1440">1440 Pixels Per Second</option>
              <option value="1920">1920 Pixels Per Second</option>
              <option value="2560">2560 Pixels Per Second</option>
              <option value="2880">2880 Pixels Per Second</option>
              <option value="3840">3840 Pixels Per Second</option>
            </select>
          </div>
        </div>
      </div>
      <noscript>
        <div class="noscript">
          You must enable JavaScript to pilot the Test UFO.
        </div>
      </noscript>
    </div>
    <canvas id="area51" height="240" width="1920"></canvas>
    <div id="ufofooter">
      <table class="telemetry">
        <tr>
          <td class="cellLabel">
            <div class="box">Frame<br />Rate</div>
          </td>
          <td class="cellValue">
            <div class="box">
              <span id="display_fps"></span>
              &nbsp;fps
            </div>
          </td>
          <td class="cellSpacer"></td>
          <td class="cellLabel">
            <div class="box">Refresh<br />Rate</div>
          </td>
          <td class="cellValue">
            <div class="box">
              <span id="display_refresh">-</span>
              &nbsp;Hz
            </div>
          </td>
          <td class="cellSpacer"></td>
          <td class="cellLabel">
            <div class="box">Pixels<br />Per &nbsp;Frame</div>
          </td>
          <td class="cellValue">
            <div class="box">
              <span id="display_ppf">-</span>
            </div>
          </td>
          <td class="cellSpacer"></td>
          <td class="cellLabel">
            <div class="box">Pixels<br />Per &nbsp;Sec</div>
          </td>
          <td class="cellValue">
            <div class="box">
              <span id="display_pps">-</span>
            </div>
          </td>
        </tr>
        <tr>
          <td
            colspan="11"
            class="cellStatus box"
            id="display_jitter"
            title="For perfect animations with TestUFO Motion Tests:
- Close all other apps/tabs.
- TestUFO should be the only webpage/only app running.
- Windows, Mac, or iOS. May stutter with Linux/Android.
- Supported browser. Run directly. Not in Parallels or VMWARE.
- Internet Explorer 10/11 do not yet support 120Hz animation.
- Enable GPU acceleration. Check chrome://gpu in Chrome.
- Enable Aero in Microsoft Windows.
- Single-monitor is more reliable. Use primary monitor.
- If using laptop, use 'Performance Mode'."
          >
            -
          </td>
        </tr>
        <tr>
          <td colspan="11" class="cellShare box" id="share-box">
            <span class="shareLabel">Share This Test!</span>
            <input
              class="shareText"
              type="text"
              title="share"
              id="share"
              name="share"
              required
              readonly="readonly"
              onClick="shareClick()"
            />
            &nbsp;&nbsp;
            <span class="shareButtonGroup">
              <a href="javascript:void(0);">
                <img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiIAAC4iAari3ZIAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAABTlJREFUaEPtmv1TFVUYx2mayaZ+y2nG/KH6oX+hZprJLCYbU38oJ8ZGgoJCJkCkAkwTCMgSKBt0ahJEUZSGlwi8ghCUouAEKhhvogTC5UVEUejCfd29T89zONzusrv3Ci13obnfmc/Mzu4+5zzfPXte9iXAkwDgEUEUV3f3jT3dem3kWT1pu37rmalp2yrM6SGe3oMJA55EUpEOxI6IiHMp4HSCYHcIN0TReRC3X8R9PGsV4QkbkDFkOYgutAFdrubpS4UH1yNWOnOuRu+YoKltEM4198HZpl6f09jSDzeH7oEgUkPJ1I88x23MCF2uxJ232GEubFJouNIPkcm/wNqQHHhp64+6sib4EGz5uBBKqtvBbhd4li61I49zO6x1kthuLrtDhKy886wQpcL1Jiq1HMYnzDxbl5K4HWaIHDJRy3xz5LxiQUuJiKQysFgdPGumO8gKMvMEQqMZ0x9XjfCyDi0TtOMkZB6uh/K6TuwzA9DSOQyXO4bgYusA1F7sgdKadnj/sxJJTE5xM8/apcDZkc2lmPQKSdBi825CEVy4fBMcAg1anpVyoFYS+0bEUTBN2/hRpliJIbovXw3NlQQtJikH68Bscd0cXrV7f42sDLoYbkqTGMLZWBawWHyaUQkOHHzmo4TMKlk5BRUt/CjTXomhZpxr5gYsBq+H58HoXROv9cEV95VBVlautB8l62KIpoSFKDpN3r+XhKFL7YO8RmVRR7/WOwYdN0ZddP11G0ISi2Vl6W6IJuuJvy28RrnONvXBa2GHFWOV0N0Q9R+bfOniUkTSz4pxauhuaP2HR1QN4WMBbN5+QjFOjSVtiFbTm2MKFOPU8BvSGr8hL/jUEK3av8D1WvoPv7ugSVVtISris0v28UbJ+e6888lPsjp8auiV0ByYnsfi05vSvv9NVseyNrTr22pZHcvakO6LU60NbUsuk9WxrA2FJBbJ6ljWht6OPSmrw6eGaNhOPlALqTg6zZKRW+9x2P7uWIPkfHcC35O/HvCpISX8KwUv+A1pjd+QF/5/hko8GKI3LaE7S2DDtvxFe7+tlSGa497Cc8tqO3k0k9zQ9i8NjI9SKyBkZzF7xqcktPpGtBBD9KaI5qCNkfkQFFcIYbtLISb9FMvz9LluHs2kbmguMUhkSjmE7SqFrfFFELSjEN6MLoBNkccwyaOwLiyPVUrGqXXXBFMiCCU0mxhC56oZopck4ZgsXcQt+OxD7+E+2FMGUXhxlXIiFmxovsSkGyA67RREpVWwhBi4HZ9ZpfpOmwwl4cpCqTw1fGZIjcSsar8hT7gbwqWg9OtDr3FcMUhLtDZU09DDo5mkhiZNVoj7ulIxUCu0NvRnt+TjfQIZWjezPaP9+Q2KgVqhpaGErDOS5y2zxR5Ehh622gXXjdh2fRRi9yoXoAVaGiqv6+KRGOt0CgPD92b+KrHaHOl8P/usf8JwVbEALdDK0D58UHT/rG+xOeqYGdL4pHkVFjbBj7EfL45XtEKsQkH/FbpNpsw2wIsogz4g78n2bigr7wLcd/vGhI0gjo1PBXI7M8J7MRwbx/UzDf36dKVzGPbl1OMteFqx4IUSn1HFJlglPN3u1Hq/NvbIVhrTZvshbuNfGY3OADyQTG75eUxk7PZdExtNLrUP6UJL1zAYRyYU30Xg7Vs5ODr5KLchFa63AiZMlmBBEOk3k6UuAQ1mT5mtK3j66jKO3F9ptto/R2M0+in3YP00jf2iRBDFF3i68xN21KewkLUITcCbkI1821dQfUEI1f08doHHeGoKCgj4B4qP/1au5HxEAAAAAElFTkSuQmCC"
                  title="Share on Facebook"
                  class="shareButton"
                  width="26"
                  height="26"
                  onclick="shareFacebook()"
                />
              </a>
              &nbsp;
              <a href="javascript:void(0);">
                <img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAB1FJREFUaN7dmvtvFFUUx0l8/Af+xg/6q0GQEI1GDD6iv/gLPvjBH0AJVlEkJGKCiBiMjwgikCBgQUAjEhQhQhqsuH3Q0ncpfdBtaaHdbrfb7ntnd2dmt/u4njO7s3vnztzptLMbwJt+up2Z7s757jn3nDv33kWL/u+NEPIAsB6oBQJA+i5CBM4BnwKLrYhZBvSTe6PJwH7gQTMxfvZdqWyOjMZnSWcoeUe5Hk4RMZ0zEtYDPGQUZv2skFqvRLb1hsi7nQEKv8Gx3+R6+djUHSA/j8VIPJ1lRf3DClpPX5UyObLHGamYYXb5BL5kn5yhTUbXraMF1apXwDFk71B07g/uKEAfs9fKDSMqmNR4ql8Vc38hmymtYUbiiOCH0pZrQfJZX5jsGgiT7XCjTV2VFaNy8KbAeukRFPQ4fWa7rs8YC9oIVI8KZFhIKSGazeUI/JAM/BJms6Q9IJMvb4T5HuN53EQAy3uAR0rTotZqBGE2s/JBH0Ln7ILMk8vlTPPqLMTvGVfcOERtilFxQERR7R2NIEyP/NAqnW/yyzrjcxTKseKxvOfQk3nD/Qbe4pzrZK5zIuWsO2EuqAreUFV8k794XFVIz98MRjSeSYMX3PE0GYA60RtMEWdklvilTFEQEk1llH5VBcaZE5jjmh4LgvSeqaLqTTPlnQyIQRFXp+UCyfzrjEzGYmmNqJ9uxSwI4sMLuQUI0nbCQLKU/71ihjSBgBLJ/Ks3Ly6ZKQlqgyRhyXBDLwXsCCp8SKeezZAMMlS4DUN4NYLxPEJQJ1RBrsSs0h+qbBHQHVsX1OGnhjV5QVt7gppE4IykSP2UDEgKDYVXlaBc6ktB8Oy26yGlIGJp2NEXgtoVIjv7Q2RXf5h8ATUMr7/fZaUf+efTh1TXF6AEfcQIugGJwOGRSZ2CVECGc5ICLQjBBIL9Dr2skqXA62FIIC3QT7+6ETHw6IKSAiWmI6DxEiuoP5Qil8FwHgFG0HxAcTVTotJv7Qvi1CFWUB8Iqp0UC0jM3xLx2xCkcsGT4NSqPJbrkBEoSL0Rtl4QdAkE6JEUMOO1+ZKW6fAniQtqWpYShKONnTBOtJcUqEJKH7NJ4XowSWrcYhmQNGCRpr10CUKP98xlKqgJasXadh+3Fn3MCOoBQRcnxLKDIkXqIW40ph9joo3rwNYT4zG+oEszInmszk1WNnrIay0zZANToVlB3SDoLzCgEnjF0igai/nGgg1o0+tg27Ng41Kw9bvRiLmgJfBPKsvr3eSFpimypjUvjhXUFUiScy6Ry3kbuBMlQZjK32zzkRfBluX1k2SJw13EmiCHHhT3auu0JrY7QNDZcXFO/nTNH59UGmKNxFOKN4zsWrAgPL+qyaPxUDtkpd/HEzr+4GD+P2KRi5AYsA6p7YI3wbVrXiHHgoLoR4c2qOhnxuJl5bwrQaYp7+DtNvT4bApyGKMKUmnxyeQ3MILldIFWuD4GT8HjFsF+gyN0ul32iflwK4sgjodUroLBv96OcxmKpmxNjXaGZfL0lcmSDZUKOZVmeJD75VacC47GF9JwkuXIWJSsaJjU2lDpPnQFBJ0cjXMZnKegKAq5HVXuY2iDQy/MnqBmbZZrBEHHwXAegwvwUBKyW3NQImu7Z0xtKU9SaNaGXMO0RI6OxDQcoxiILLwPYdo+DGG3tCwhx6lDzzEeqgNB1WB4kZsqgkI/DDKzzEOcGew0H35pB25FTL9kWyH3VOOkcuPitDEIOgyGH+FwfDQG2c465yYSSmak+6kMafyVVm9lksIyGP74qVmfazA4PTQslJXDAH4u3arHo5URhDQFSlOvWNEPggHl5uiIoKxP0fXIfh+q0/ch5OvhsGaa9zSMww4MCXycgvl1Dur6D97nNkyBLa2Uh1ZCjZAzpfm2CRiuHID1pH3O8rEf8FKrCriIUDFByEmXoJmkxwe978GIvWUCBSWoJ9aWkMwdMdhK23S2c4mzmprkhOz0A2S23YNRLnsschEmWugM/uNYtDJ1iOaNjmkSSmnWOWHhK0s6wVunYKS9fygv7lsTgSz7IHRrPKKSqukCu7p9emF1qCeanHu4QR2vAVFu6tlfrR/4mgKjYjA2oxHmOJYz+uJ61hNX5jl4Nh0dF3SCHsUhlLpg/HLLlImoiTyOieLfOJCsmU5oJvHL1dqg7zzZOMm1B4WOQMKg2gp14fhv9cyJCWFegtBr+MFvwWCy3i/lM6BNIdzHB4YPejX7RHDh+35V0NvFoQa4aV23z6IgOp7z53C8t6UvoIzBjkE4GFE9JigG5xGKHIJHh60DAfLMFQ83zFWeb54iU7Jmwfggu5NkVL2COzWMRakiJgxSKOU1C6nfDi9Bt+iKJNl9P4vZ3SSrcEcM7alD8A1qvi3WQw6GCgvCENzhDLGewQjfzNvAtJoWpQrDwnbKHVNS5J0Aw9QB/VPQ7/FBMZ/PtcXsCVxYuEe2l22ezyZATBT/Fjbe3S0NPeICdlvaAMgRd1+h+N4NPDyXvf8BMnx2wOGyqGkAAAAASUVORK5CYII="
                  title="Share on Twitter"
                  class="shareButton"
                  width="26"
                  height="26"
                  onClick="shareTwitter()"
                />
              </a>
            </span>
          </td>
        </tr>
      </table>
      <p class="noticeText">
        <b>
          IMPORTANT: Close all apps and other browser tabs and windows for best
          performance! Keep
          <a
            href="browser.html"
            title="If you are using Microsoft Windows, keep Aero enabled for perfect web browser animations.
Windows Classic mode makes web browser animations choppy. Also:
- Close all other apps/tabs.
- TestUFO should be the only webpage/only app running.
- Windows, Mac, or iOS. May stutter with Linux/Android.
- Supported browser. Run directly. Not in Parallels or VMWARE.
- Internet Explorer 10/11 do not yet support 120Hz animation.
- Enable GPU acceleration. Check chrome://gpu in Chrome.
- Single-monitor is more reliable. Use primary monitor.
- If using laptop, use 'Performance Mode'."
            >Aero</a
          >
          turned on.
        </b>
        <br />
        <span class="asterik">*</span>
        Problems?
        <a
          href="browser.html"
          title="For perfect animations with TestUFO Motion Tests:
- Close all other apps/tabs.
- TestUFO should be the only webpage/only app running.
- Windows, Mac, or iOS. May stutter with Linux/Android.
- Supported browser. Run directly. Not in Parallels or VMWARE.
- Internet Explorer 10/11 do not yet support 120Hz animation.
- Enable GPU acceleration. Check chrome://gpu in Chrome.
- Enable Aero in Microsoft Windows.
- Single-monitor is more reliable. Use primary monitor.
- If using laptop, use 'Performance Mode'."
          >Check Your Browser</a
        >
        . Supported Browsers with VSYNC: Chrome (up to 240Hz+), FireFox 24+ (up
        to 240Hz+), IE 10+ (Limited to 60Hz).<br />
        Copyright (C) 2017 Blur Busters - All Rights Reserved |
        <a href="//blurbusters.com">BlurBusters.com</a>
        |
        <a href="//forums.blurbusters.com" target="_blank">Discussion Forums</a>
        |
        <a href="//blurbusters.com/about/privacy" target="_blank"
          >Privacy Policy</a
        >
        |
        <a
          href="mailto&#58;mark%40b%6Cu&#114;b%&#55;5ster%73%&#50;E&#37;6&#51;om?Subject=[TestUFO%20Feedback]"
          >Contact Chief Blur Buster</a
        >
        <br />
        <b>Blur Busters: Everything better than 60Hz™</b>
      </p>
    </div>
    <script type="text/javascript" id="display-20180120">
      var browserDetect = new BrowserAgentDetector();
      var frameTiming = new FrameTiming();
      var gfx = new CanvasHelper();
      var zoomer = new Zoom();
      var draw = new Draw();
      var Params = new HashEngine();
      function CanvasHelper() {
        this['canvas'] = null;
        this['surface'] = null;
        this['message'] = '';
        this['backingStoreRatio'] = 1;
        this['devicePixelRatio'] = 1;
        this['initialized'] = false;
        this['init'] = function (id) {
          try {
            this['canvas'] = document['getElementById'](id);
            this['surface'] = this['canvas']['getContext']('2d');
            this['surface']['viewportWidth'] = this['canvas']['width'];
            this['surface']['viewportHeight'] = this['canvas']['height'];
            this['smoothingEnable'](false);
            this['devicePixelRatio'] = window['devicePixelRatio'] || 1;
            this['backingStoreRatio'] =
              this['surface']['webkitBackingStorePixelRatio'] ||
              this['surface']['mozBackingStorePixelRatio'] ||
              this['surface']['msBackingStorePixelRatio'] ||
              this['surface']['oBackingStorePixelRatio'] ||
              this['surface']['backingStorePixelRatio'] ||
              1;
            if (!this['initialized']) {
              window['requestAnimFrame'] = (function () {
                return (
                  window['requestAnimationFrame'] ||
                  window['webkitRequestAnimationFrame'] ||
                  window['mozRequestAnimationFrame'] ||
                  window['oRequestAnimationFrame'] ||
                  window['msRequestAnimationFrame'] ||
                  function (callback, _0x943fx8) {
                    return window['setTimeout'](callback, 1000 / 60);
                  }
                );
              })();
              window['cancelAnimFrame'] = (function () {
                return (
                  window['cancelAnimationFrame'] ||
                  window['webkitCancelAnimationFrame'] ||
                  window['mozCancelAnimationFrame'] ||
                  window['oCancelAnimationFrame'] ||
                  window['msCancelAnimationFrame'] ||
                  window['clearTimeout']
                );
              })();
            }
            this['initialized'] = true;
            return true;
          } catch (e) {
            this['message'] =
              'Your web browser does not support HTML5. Please upgrade.';
            return false;
          }
        };
        this['smoothingEnable'] = function (status) {
          if (this['surface']) {
            this['surface']['imageSmoothingEnabled'] = status;
            this['surface']['mozImageSmoothingEnabled'] = status;
            this['surface']['oImageSmoothingEnabled'] = status;
            this['surface']['webkitImageSmoothingEnabled'] = status;
          }
        };
      }
      function HashEngine() {
        this['params'] = {};
        this['currentHash'] = '';
        this['tempCount'] = 0;
        this['paramCount'] = 0;
        var _0x943fxc = null;
        var $selections = null;
        this['clearParams'] = function () {
          delete this['params'];
          this['params'] = {};
          this['paramCount'] = 0;
        };
        this['decodeHash'] = function () {
          var paramRegexp = /([^&=]+)=?([^&]*)/g;
          var decode = function (value) {
            if (value) {
              return decodeURIComponent(
                value.toString()['replace'](/\+/g, ' ')
              );
            }
            return '';
          };
          var hashStr = window['location']['hash']['substring'](1);
          var matchResult;
          while ((matchResult = paramRegexp['exec'](hashStr))) {
            this['params'][decode(matchResult[1])] = decode(matchResult[2]);
          }
          this['currentHash'] = window['location']['hash'];
        };
        this['encodeHash'] = function (_0x943fx13) {
          this['currentHash'] = this['getHash'](_0x943fx13);
          this['paramCount'] = this['tempCount'];
        };
        this['commitHash'] = function () {
          if (this['currentHash'] === '#') {
            windows['location']['hash'] = '';
          } else {
            window['location']['hash'] = this['currentHash'];
          }
        };
        this['getHash'] = function (_0x943fx13) {
          var encode = function (value) {
            if (value) {
              return encodeURIComponent(value.toString()['replace'](/ /g, '+'));
            }
            return '';
          };
          var result = '';
          this['tempCount'] = 0;
          for (var key in this['params']) {
            if (
              this['params']['hasOwnProperty'](key) &&
              this['params'][key] &&
              key !== _0x943fx13
            ) {
              if (result) {
                result += '&';
              }
              result += encode(key) + '=' + encode(this['params'][key]);
              this['tempCount']++;
            }
          }
          if (result) {
            result = '#' + result;
          }
          return result;
        };
        this['setScope'] = function (_0x943fx17) {
          _0x943fxc = _0x943fx17;
          var _0x943fx18 = document['getElementById'](_0x943fxc);
          if (!_0x943fx18) {
            return;
          }
          $selections = _0x943fx18['getElementsByClassName']('setting');
        };
        this['getSelections'] = function () {
          return $selections;
        };
        this['loadDefaults'] = function () {
          for (var i = 0; i < $selections['length']; i++) {
            var id = $selections[i]['id'];
            var defaultValue = $selections[i]['getAttribute']('data-default');
            if (
              id !== null &&
              defaultValue !== null &&
              this['params'][id] == null
            ) {
              this['params'][id] = defaultValue;
            }
          }
        };
        this['saveSelections'] = function () {
          for (var i = 0; i < $selections['length']; i++) {
            var id = $selections[i]['id'];
            var value = $selections[i]['value'];
            if ($selections[i]['getAttribute']('data-format') === 'color') {
              if (value['charAt'](0) === '#') {
                value = value['substring'](1);
              }
            }
            if (id !== null && value !== null) {
              this['params'][id] = value;
            }
          }
        };
        this['resetSelections'] = function () {
          for (var i = 0; i < $selections['length']; i++) {
            var id = $selections[i]['id'];
            if ($selections[i]['tagName'] === 'INPUT') {
              if ($selections[i]['getAttribute']('data-format') === 'color') {
                var color = this['params'][id];
                if (color['charAt'](0) !== '#') {
                  color = '#' + color;
                }
                $selections[i]['value'] = color;
              } else {
                $selections[i]['value'] = this['params'][id];
              }
            } else {
              if ($selections[i]['tagName'] === 'SELECT') {
                var $options = $selections[i]['getElementsByTagName']('option');
                if (!$options) {
                  continue;
                }
                for (var i = 0; i < $options['length']; i++) {
                  if ($options[i]['value'] === this['params'][id]) {
                    $options[i]['selected'] = true;
                    break;
                  }
                }
              }
            }
          }
        };
        function getSelectionElementById(id) {
          for (var i = 0; i < $selections['length']; i++) {
            if ($selections[i]['id'] === id) {
              return $selections[i];
            }
          }
          return null;
        }
        function getSelectionOptionsById(id) {
          for (var i = 0; i < $selections['length']; i++) {
            if ($selections[i]['id'] === id) {
              return $selections[i]['getElementsByTagName']('option');
            }
          }
          return null;
        }
        this['setDefault'] = function (configId, value) {
          var $selection = getSelectionOptionsById(configId);
          if ($selection === null) {
            return;
          }
          for (var i = 0; i < $selection['length']; i++) {
            if ($selection[i]['value'] === value) {
              if (this['params'][configId] === null) {
                $selection[i]['selected'] = true;
                this['params'][configId] = value;
              }
              break;
            }
          }
        };
        this['selectIndex'] = function (_0x943fx21, _0x943fx24) {
          var _0x943fx23 = getSelectionOptionsById(_0x943fx21);
          if (_0x943fx23 === null) {
            return;
          }
          if (_0x943fx24 >= 0 && _0x943fx24 < _0x943fx23['length']) {
            _0x943fx23['selectedIndex'] = _0x943fx24;
          }
        };
        this['selectValue'] = function (_0x943fx21, _0x943fx1c) {
          var _0x943fx23 = getSelectionOptionsById(_0x943fx21);
          if (_0x943fx23 === null) {
            return false;
          }
          for (
            var _0x943fx19 = 0;
            _0x943fx19 < _0x943fx23['length'];
            _0x943fx19++
          ) {
            if (_0x943fx23[_0x943fx19]['value'] === _0x943fx1c) {
              _0x943fx23[_0x943fx19]['selected'] = true;
              return true;
            }
          }
          return false;
        };
        this['getSelectedIndex'] = function (_0x943fx21) {
          var _0x943fx23 = getSelectionOptionsById(_0x943fx21);
          if (_0x943fx23 === null) {
            return null;
          }
          return _0x943fx23['selectedIndex'];
        };
        this['getSelectedValue'] = function (_0x943fx21) {
          var _0x943fx23 = getSelectionOptionsById(_0x943fx21);
          if (_0x943fx23 === null) {
            return null;
          }
          return _0x943fx23[_0x943fx23['selectedIndex']]['value'];
        };
      }
      function BrowserAgentDetector() {
        this['init'] = function () {
          this['infoBrowser'] = this['searchString'](this['dataBrowser']);
          if (this['infoBrowser']) {
            this['browser'] = this['infoBrowser']['identity'] || 'unknown';
          } else {
            this['browser'] = 'unknown';
          }
          this['versionLong'] = '';
          this['versionOS'] = -1;
          this['versionLong'] =
            this['searchVersion'](navigator['userAgent']) ||
            this['searchVersion'](navigator['appVersion']) ||
            '-1';
          this['version'] = parseFloat(this['versionLong']);
          this['infoOS'] = this['searchString'](this['dataOS']);
          if (this['infoOS']) {
            this['OS'] = this['infoOS']['identity'] || 'unknown';
            this['mobile'] = this['infoOS']['mobile'];
            if (this['infoOS']['versionSearch']) {
              this['versionOS'] =
                parseFloat(this['searchVersion'](navigator['userAgent'])) || -1;
              if (this['version'] === -1) {
                this['version'] = this['versionOS'];
              }
            }
          } else {
            this['infoOS'] = 'unknown';
          }
          this['vsyncCheck']();
        };
        this['vsyncCheck'] = function () {
          if (
            this['browser'] === 'Firefox' &&
            !Boolean('MozBoxSizing' in document['body']['style'])
          ) {
            this['vsyncInfo'] =
              'Browser spoofing Firefox. VSYNC support unknown.';
            this['vsync'] = 'no';
          } else {
            if (
              this['browser'] === 'Explorer' &&
              this['version'] >= 9 &&
              !Boolean('msTransform' in document['body']['style'])
            ) {
              this['vsyncInfo'] =
                'Browser spoofing Internet Explorer. VSYNC support unknown.';
              this['vsync'] = 'no';
            } else {
              if (
                this['infoOS'] &&
                this['infoOS']['vsync'] &&
                this['infoOS']['vsync'] === 'no'
              ) {
                this['vsyncInfo'] =
                  'VSYNC is not available on the ' +
                  this['infoOS']['identity'] +
                  ' platform.';
                this['vsync'] = 'no';
              } else {
                if (!this['infoBrowser'] || !this['infoBrowser']['vsync']) {
                  this['vsyncInfo'] =
                    'VSYNC support is untested in ' + this['browser'] + '.';
                  this['vsync'] = 'unknown';
                } else {
                  if (this['infoBrowser']['vsync'] !== 'yes') {
                    this['vsyncInfo'] =
                      this['infoBrowser']['vsync'] === 'no'
                        ? this['browser'] + " can't directly access VSYNC."
                        : 'VSYNC support is untested in ' +
                          this['browser'] +
                          '.';
                    this['vsync'] = this['infoBrowser']['vsync'];
                  } else {
                    if (
                      this['infoBrowser']['vsyncBadOS'] &&
                      this['infoBrowser']['vsyncBadOS'] === this['OS']
                    ) {
                      this['vsyncInfo'] =
                        this['browser'] +
                        " can't access VSYNC on " +
                        this['OS'] +
                        '.';
                      this['vsync'] = 'no';
                    } else {
                      if (
                        this['version'] > 0 &&
                        this['infoBrowser']['vsyncMinVersion'] &&
                        parseFloat(this['infoBrowser']['vsyncMinVersion']) >
                          this['version']
                      ) {
                        this['vsyncInfo'] =
                          'Update ' +
                          this['infoBrowser']['identity'] +
                          ' to version ' +
                          this['infoBrowser']['vsyncMinVersion'] +
                          '+ for VSYNC support.';
                        this['vsync'] = 'no';
                      } else {
                        if (
                          this['browser'] === 'Explorer' &&
                          (this['version'] === 10 || this['version'] === 11)
                        ) {
                          this['vsyncInfo'] =
                            'Internet Explorer supports VSYNC only up to 100Hz.';
                          this['vsync'] = 'yes';
                        } else {
                          if (
                            this['OS'] === 'Windows' &&
                            this['versionOS'] < 5
                          ) {
                            this['vsyncInfo'] =
                              'Your version of Windows is too old for smooth VSYNC.';
                            this['vsync'] = 'no';
                          } else {
                            if (
                              this['browser'] === 'Firefox' &&
                              this['OS'] !== 'Windows' &&
                              this['version'] >= 24
                            ) {
                              this['vsyncInfo'] =
                                'FireFox supports VSYNC only at 60Hz on ' +
                                this['OS'];
                              this['vsync'] = 'yes';
                            } else {
                              this['vsyncInfo'] = '';
                              this['vsync'] = 'yes';
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        };
        this['searchString'] = function (_0x943fx26) {
          this['versionSearchString'] = null;
          for (var i = 0; i < _0x943fx26['length']; i++) {
            var _0x943fx27 = _0x943fx26[i]['string'];
            var _0x943fx28 = _0x943fx26[i]['prop'];
            this['versionSearchString'] = _0x943fx26[i]['versionSearch'];
            if (_0x943fx27) {
              if (_0x943fx27['indexOf'](_0x943fx26[i]['subString']) !== -1) {
                return _0x943fx26[i];
              }
            } else {
              if (_0x943fx28) {
                return _0x943fx26[i];
              }
            }
          }
          return null;
        };
        this['searchVersion'] = function (_0x943fx27) {
          if (!this['versionSearchString']) {
            return null;
          }
          var _0x943fx24 = _0x943fx27['indexOf'](this['versionSearchString']);
          if (_0x943fx24 === -1) {
            return null;
          }
          var _0x943fx29 = _0x943fx27['substring'](
            _0x943fx24 + this['versionSearchString']['length'] + 1
          );
          _0x943fx24 = _0x943fx29['indexOf'](' ');
          if (_0x943fx24 > 0) {
            _0x943fx29 = _0x943fx29['substring'](0, _0x943fx24);
          }
          _0x943fx24 = _0x943fx29['indexOf'](';');
          if (_0x943fx24 > 0) {
            _0x943fx29 = _0x943fx29['substring'](0, _0x943fx24);
          }
          return _0x943fx29;
        };
        this['dataBrowser'] = [
          {
            string: navigator['userAgent'],
            subString: 'OPR',
            identity: 'Opera',
            versionSearch: ' OPR',
            vsync: 'yes',
            vsyncMinVersion: 15,
          },
          {
            string: navigator['userAgent'],
            subString: 'Edge',
            identity: 'Edge',
            versionSearch: 'Edge',
            vsync: 'yes',
            vsyncMinVersion: 15,
          },
          {
            string: navigator['userAgent'],
            subString: 'MSIE',
            identity: 'Explorer',
            versionSearch: 'MSIE',
            vsync: 'yes',
            vsyncMinVersion: 10,
          },
          {
            string: navigator['userAgent'],
            subString: 'Trident',
            identity: 'Explorer',
            versionSearch: 'rv',
            vsync: 'yes',
            vsyncMinVersion: 11,
          },
          {
            string: navigator['userAgent'],
            subString: 'Firefox',
            identity: 'Firefox',
            versionSearch: 'Firefox',
            vsync: 'yes',
            vsyncMinVersion: 24,
          },
          {
            string: navigator['vendor'],
            subString: 'Apple',
            identity: 'Safari',
            vsync: 'yes',
            vsyncMinVersion: 6,
            vsyncBadOS: 'Windows',
          },
          {
            prop: window['chrome'],
            identity: 'Chrome',
            versionSearch: 'Chrome',
            vsync: 'yes',
            vsyncMinVersion: 19,
          },
          {
            prop: window['opera'],
            identity: 'Opera',
            versionSearch: 'Version',
            vsync: 'yes',
            vsyncMinVersion: 15,
          },
          {
            string: navigator['userAgent'],
            subString: 'BlackBerry',
            identity: 'BlackBerry',
            versionSearch: 'Version',
            vsync: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'PlayBook',
            identity: 'PlayBook',
            versionSearch: 'Version',
            vsync: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'BB10',
            identity: 'BlackBerry 10',
            versionSearch: 'Version',
            vsync: 'yes',
          },
          {
            string: navigator['vendor'],
            subString: 'iCab',
            identity: 'iCab',
            versionSearch: 'iCab',
            vsync: 'no',
          },
          {
            string: navigator['vendor'],
            subString: 'KDE',
            identity: 'Konqueror',
            versionSearch: 'Konqueror',
            vsync: 'no',
          },
          {
            string: navigator['vendor'],
            subString: 'Camino',
            identity: 'Camino',
            versionSearch: 'Camino',
            vsync: 'unknown',
          },
          {
            string: navigator['userAgent'],
            subString: 'Netscape',
            identity: 'Netscape',
            versionSearch: 'Netscape',
            vsync: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'AppleWebKit',
            identity: 'Generic Webkit',
            versionSearch: 'AppleWebKit',
            vsync: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'Gecko',
            identity: 'Mozilla',
            versionSearch: 'rv',
            vsync: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'Mozilla',
            identity: 'Mozilla',
            versionSearch: 'Mozilla',
            vsync: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'OmniWeb',
            identity: 'OmniWeb',
            versionSearch: 'OmniWeb',
            vsync: 'unknown',
          },
        ];
        this['dataOS'] = [
          {
            string: navigator['platform'],
            subString: 'Win',
            identity: 'Windows',
            versionSearch: 'Windows NT',
            mobile: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'iPhone',
            identity: 'iPhone',
            versionSearch: ' OS',
            mobile: 'yes',
          },
          {
            string: navigator['userAgent'],
            subString: 'iPad',
            identity: 'iPad',
            versionSearch: ' OS',
            mobile: 'yes',
          },
          {
            string: navigator['userAgent'],
            subString: 'iPod',
            identity: 'iPod',
            versionSearch: ' OS',
            mobile: 'yes',
          },
          {
            string: navigator['platform'],
            subString: 'Mac',
            identity: 'Mac',
            versionSearch: 'Version',
            mobile: 'no',
          },
          {
            string: navigator['userAgent'],
            subString: 'Android',
            identity: 'Android',
            versionSearch: 'Android',
            mobile: 'yes',
          },
          {
            string: navigator['userAgent'],
            subString: 'RIM',
            identity: 'RIM',
            vsync: 'no',
            versionSearch: 'Version',
            mobile: 'yes',
          },
          {
            string: navigator['userAgent'],
            subString: 'BlackBerry',
            identity: 'RIM',
            vsync: 'no',
            mobile: 'yes',
          },
          {
            string: navigator['userAgent'],
            subString: 'Linux',
            identity: 'Linux',
            vsync: 'no',
            mobile: 'no',
          },
        ];
      }
      function FrameTiming() {
        this['RESYNC'] = {
          NONE: 0,
          SOFT: 1,
          HARD: 2,
        };
        this['STATUS'] = {
          PERFORMANCE: {
            value: -6,
            color: 'red',
            name: 'POOR PERFORMANCE',
          },
          HIGH_CPU: {
            value: -5,
            color: 'orange',
            name: 'HIGH CPU CONSUMPTION',
          },
          SYNCFAIL: {
            value: -4,
            color: 'red',
            name: 'SYNC FAILURE',
          },
          BROWSERBAD: {
            value: -3,
            color: 'red',
            name: 'UNSUPPORTED',
          },
          BROWSERUNKNOWN: {
            value: -2,
            color: 'red',
            name: 'BROWSER UNKNOWN',
          },
          ERROR: {
            value: -1,
            color: 'red',
            name: 'ERROR',
          },
          GOOD: {
            value: 0,
            color: 'green',
            name: 'READY*',
          },
          SYNCING: {
            value: 1,
            color: 'blue',
            name: 'SYNCING',
          },
          STUTTER_CAUTION: {
            value: 2,
            color: 'orange',
            name: 'PERFORMANCE WARNING',
          },
          STUTTER_DETECTED: {
            value: 3,
            color: 'orange',
            name: 'STUTTER WARNING',
          },
          STUTTER_MAJOR: {
            value: 4,
            color: 'red',
            name: 'MAJOR STUTTERING',
          },
          STUTTER_BUG: {
            value: 4,
            color: 'red',
            name: 'BROWSER BUG',
          },
        };
        this['frameTime'] = 0;
        this['frameTimePrev'] = 0;
        this['frameCounter'] = 0;
        this['timePeriodFrameStart'] = 0;
        this['timePeriodFrameRender'] = 0;
        this['timePeriodAccuracyChecker'] = 0;
        this['fps'] = 0;
        this['refreshRate'] = 0;
        this['refreshRateFloat'] = 0;
        this['refreshDisplayed'] = 0;
        this['jitter'] = 0;
        this['status'] = this['STATUS']['SYNCING'];
        this['message'] = '';
        this['pixelsPerSec'] = -1;
        this['pixelsPerFrame'] = -1;
        this['autoPPS'] = true;
        this['strictSync'] = false;
        var _0x943fx2b = 15;
        var _0x943fx2c = 20;
        var lowestFPS = 10;
        var _0x943fx2e = 30;
        var _0x943fx2f = 500;
        var _0x943fx30 = 12;
        var _0x943fx31 = 500;
        var _0x943fx32 = ':<br>';
        var _0x943fx33 = false;
        var _0x943fx34 = 0;
        var _0x943fx35 = 0;
        var _0x943fx36 = 0;
        var _0x943fx37 = 0;
        var _0x943fx38 = 0;
        var _0x943fx39 = []; // getAverageFPSdecimal 用到 得到 61
        var _0x943fx3a = lowestFPS;
        var _0x943fx3b = 0;
        var _0x943fx3c = [];
        var _0x943fx3d = 0;
        var stutteringTimes = 0;
        var _0x943fx3f = 0;
        var jitterAvgLatencyRatio = 0;
        var jitterAvgLatencyRatioSum = 0;
        var _0x943fx42 = 0;
        var jitterFasterFrameCount = 0;
        var jitterSlowerFrameCount = 0;
        var jitterFasterPeriodSum = 0;
        var jitterSlowerPeriodSum = 0;
        var _0x943fx47 = 0;
        var frameCountASecond = 0;
        var goodSeconds = 0;
        var countFPSFrameTime = 0;
        var avgFrameLatency = 0;
        var innerWidth = 0;
        var innerHeight = 0;
        var screenLeft = 0;
        var screenTop = 0;
        var pageXOffset = 0;
        var _0x943fx51 = 0;
        var lastInnerWidth = 0;
        var lastInnerHeight = 0;
        var lastScreenLeft = 0;
        var lastScreenTop = 0;
        var lastPageXOffset = 0;
        var _0x943fx57 = 0;
        var resyncStatus = this['RESYNC']['NONE'];
        var _0x943fx59 = true;
        var _0x943fx5a = 0;
        var _0x943fx5b = false;
        var _0x943fx5c = false;
        var _0x943fx5d = false;
        var _0x943fx5e = false;
        var _0x943fx5f = 0;
        var VSYNCnotSuppport = false;
        var _0x943fx61 = false;
        var _0x943fx62 = false;
        var _0x943fx63 = false;
        var performanceNow = 0;
        var hertz = new Hertz();
        function _0x943fx66(id, html) {
          var element = document['getElementById'](id);
          if (element) {
            element['innerHTML'] = html;
          }
          if (_0x943fx38 > 200) {
            _0x943fx5f = 4;
          } else {
            if (_0x943fx38 > 100) {
              textWasRefreshsed = 3;
            } else {
              if (_0x943fx38 > 50) {
                _0x943fx5f = 1;
              } else {
                _0x943fx5f = 1;
              }
            }
          }
        }
        function _0x943fx69(id, backgroundColor) {
          var element = document['getElementById'](id);
          if (element) {
            element['style']['backgroundColor'] = backgroundColor;
          }
          if (_0x943fx38 > 200) {
            _0x943fx5f = 4;
          } else {
            if (_0x943fx38 > 100) {
              textWasRefreshsed = 3;
            } else {
              if (_0x943fx38 > 50) {
                _0x943fx5f = 1;
              } else {
                _0x943fx5f = 1;
              }
            }
          }
        }
        this['updateTime'] = function () {
          this['frameTime'] = performance['now']();
          if (this['frameTimePrev'] !== 0) {
            this['timePeriodFrameStart'] =
              this['frameTime'] - this['frameTimePrev'];
          }
          this['frameTimePrev'] = this['frameTime'];
        };
        this['init'] = function () {
          this['strictSync'] = false;
          this['autoPPS'] = true;
          if (!_0x943fx33) {
            window['performance'] = window['performance'] || {};
            performance['now'] = (function () {
              return (
                performance['now'] ||
                performance['mozNow'] ||
                performance['webkitNow'] ||
                function () {
                  return new Date()['getTime']();
                }
              );
            })();
          }
          _0x943fx33 = true;
        };
        this['sync'] = function (message, _0x943fx6c) {
          resyncStatus = _0x943fx6c;
          this['message'] = message;
          this['updateStatus'](this['STATUS'].SYNCING);
        };
        this['error'] = function (message) {
          this['message'] = message;
          this['updateStatus'](this['STATUS'].ERROR);
        };
        this['windowCheck'] = function () {
          innerWidth = window['innerWidth'];
          innerHeight = window['innerHeight'];
          pageXOffset = window['pageXOffset'];
          pageYOffset = window['pageYOffset'];
          screenLeft = window['screenLeft'];
          screenTop = window['screenTop'];
          if (!resyncStatus) {
            if (
              innerWidth !== lastInnerWidth ||
              innerHeight !== lastInnerHeight
            ) {
              _0x943fx61 = true;
              this['sync'](
                'Waiting for browser resize to finish...',
                this['RESYNC'].HARD
              );
            } else {
              if (
                screenLeft !== lastScreenLeft ||
                screenTop !== lastScreenTop
              ) {
                _0x943fx61 = true;
                this['sync'](
                  'Waiting for browser move to finish...',
                  this['RESYNC'].SOFT
                );
              } else {
                if (
                  pageXOffset !== lastPageXOffset ||
                  _0x943fx51 !== _0x943fx57
                ) {
                  _0x943fx61 = true;
                  this['sync'](
                    'Waiting for browser scroll to finish...',
                    this['RESYNC'].SOFT
                  );
                } else {
                  if (
                    screenLeft + innerWidth < 0 ||
                    screenLeft + innerHeight < 0 ||
                    screenLeft > screen['width'] ||
                    screenTop > screen['height']
                  ) {
                    if (this['status'] !== this['STATUS']['SYNCING']) {
                      this['updateRefresh'](0);
                      this['fail']();
                      this['message'] =
                        'Move all apps and browser windows to primary monitor #1.';
                      this['updateStatus'](this['STATUS'].SYNCFAIL);
                    }
                  }
                }
              }
            }
          }
          lastInnerWidth = innerWidth;
          lastInnerHeight = innerHeight;
          lastPageXOffset = pageXOffset;
          _0x943fx57 = _0x943fx51;
          lastScreenLeft = screenLeft;
          lastScreenTop = screenTop;
        };
        this['updateStatus'] = function (status) {
          if (this['status'] !== status || this['message'] !== _0x943fx3d) {
            this['status'] = status;
            if (this['message'] !== '') {
              _0x943fx66(
                'display_jitter',
                status['name'] + _0x943fx32 + this['message']
              );
            } else {
              _0x943fx66('display_jitter', status['name']);
            }
            _0x943fx69('display_jitter', status['color']);
            _0x943fx3d = this['message'];
          }
        };
        this['updateFPS'] = function (_0x943fx6e) {
          this['fps'] = _0x943fx6e;
          var _0x943fx6f = _0x943fx38;
          if (isNaN(this['fps']) || this['fps'] <= 1) {
            _0x943fx6f = 0;
          } else {
            if (_0x943fx36 >= 2) {
              _0x943fx37++;
              var _0x943fx70 = Math['abs'](this['fps'] - _0x943fx38);
              if (_0x943fx70 >= 2 || (_0x943fx70 === 1 && _0x943fx5f)) {
                _0x943fx6f = this['fps'];
              } else {
                if (_0x943fx70 >= 1 && !(this['fps'] % 10) && _0x943fx38 % 10) {
                  _0x943fx6f = this['fps'];
                }
              }
            }
          }
          if (_0x943fx6f !== _0x943fx38) {
            _0x943fx37 = 0;
            _0x943fx38 = _0x943fx6f;
            _0x943fx66(
              'display_fps',
              _0x943fx38 === 0 ? '-' : this['fps'].toString()
            );
          }
        };
        this['getDisplayableFPS'] = function (_0x943fx71) {
          if (!_0x943fx71) {
            _0x943fx71 = 1;
          }
          var _0x943fx72 = 0;
          if (this['refreshDisplayed'] > 0) {
            _0x943fx72 = this['refreshDisplayed'] / _0x943fx71;
          } else {
            if (this['fps'] > 0) {
              console.log('getDisplayableFPS', this.fps);
              _0x943fx72 = this['fps'] / _0x943fx71;
            } else {
              return 0;
            }
          }
          if (_0x943fx72 >= 10) {
            return Math['round'](_0x943fx72);
          } else {
            return Math['round'](_0x943fx72 * 10) / 10;
          }
        };
        this['addHistoricalFPS'] = function (_0x943fx73, _0x943fx74) {
          console.log('addHistoricalFPS', _0x943fx73, _0x943fx74);
          _0x943fx39['push'](_0x943fx73 << 0);
          _0x943fx3c['push'](_0x943fx74 << 0);
          while (_0x943fx39['length'] >= 30) {
            _0x943fx39['shift']();
          }
          while (_0x943fx3c['length'] >= 30) {
            _0x943fx3c['shift']();
          }
          if (!_0x943fx63 && !_0x943fx5d && _0x943fx39['length'] >= 15) {
            this['logFPS']('Framerate Still Syncing');
            _0x943fx5d = true;
          }
        };
        this['getAverageFPS'] = function (_0x943fx75, _0x943fx76) {
          return Math['round'](
            this['getAverageFPSdecimal'](_0x943fx75, _0x943fx76)
          );
        };
        this['getAverageFPSdecimal'] = function (_0x943fx75, _0x943fx76) {
          var _0x943fx77 = 0;
          var _0x943fx48 = 0;
          var _0x943fx78 = 0;
          for (var i = _0x943fx39['length'] - 1; i >= 0; i--) {
            if (_0x943fx39[i] <= 1) {
              break;
            }
            if (_0x943fx78 == 0) {
              _0x943fx78 = _0x943fx39[i];
            }
            if (_0x943fx78 > _0x943fx39[i]) {
              _0x943fx78 = _0x943fx39[i];
            }
            _0x943fx77 += _0x943fx39[i];
            _0x943fx48++;
            if (_0x943fx48 >= _0x943fx75) {
              break;
            }
          }
          if (_0x943fx76 && _0x943fx48 >= 2) {
            _0x943fx77 -= _0x943fx78;
            _0x943fx48--;
          }
          return _0x943fx77 / _0x943fx48;
        };
        this['getFPSvolatilityIndex'] = function (_0x943fx75) {
          var index = 0;
          var _0x943fx48 = 0;
          var _0x943fx7a =
            this['refreshDisplayed'] > 0
              ? this['refreshDisplayed']
              : hertz['getCurrentFrequency']();
          for (var i = _0x943fx39['length'] - 1; i >= 0; i--) {
            if (_0x943fx39[i] <= 1) {
              break;
            }
            if (index == 0) {
              index = 1;
            }
            index = index * Math['abs'](_0x943fx39[i] - _0x943fx7a);
            _0x943fx48++;
            if (_0x943fx48 >= _0x943fx75) {
              break;
            }
          }
          return index;
        };
        this['getAveragePerformance'] = function (_0x943fx75) {
          var sum = 0;
          var count = 0;
          for (var i = _0x943fx3c['length'] - 1; i >= 0; i--) {
            sum += _0x943fx3c[i];
            count++;
            if (count >= _0x943fx75) {
              break;
            }
          }
          console.log('getAveragePerformance', sum, count, sum / count);
          return Math['round'](sum / count);
        };
        this['getVarianceOfFPS'] = function (_0x943fx75) {
          var _0x943fx7b = 0;
          var _0x943fx7c = 0;
          for (var i = _0x943fx39['length'] - 1; i >= 0; i--) {
            if (_0x943fx7b === 0 || _0x943fx39[i] < _0x943fx7b) {
              _0x943fx7b = _0x943fx39[i];
            }
            if (_0x943fx7c === 0 || _0x943fx39[i] > _0x943fx7c) {
              _0x943fx7c = _0x943fx39[i];
            }
            _0x943fx75--;
            if (_0x943fx75 <= 0) {
              break;
            }
          }
          return _0x943fx7c - _0x943fx7b;
        };
        this['getGoodSeconds'] = function () {
          return goodSeconds;
        };
        this['getCurrentFloatRefreshRate'] = function () {
          return hertz['getCurrentFrequency']();
        };
        this['logFPS'] = function (_0x943fx7d) {
          var _0x943fx7e =
            'FPS:' +
            _0x943fx39.toString() +
            ' / CPU:' +
            _0x943fx3c.toString() +
            ' (' +
            browserDetect['browser'] +
            ' ' +
            browserDetect['versionLong'] +
            ',' +
            browserDetect['OS'] +
            ')' +
            (this['message'] !== '' ? ' (' + this['message'] + ')' : '');
        };
        this['updatePixelsPerSec'] = function (_0x943fx7f) {
          if (isNaN(_0x943fx7f)) {
            _0x943fx7f = 0;
          }
          var _0x943fx80 = 0;
          if (_0x943fx7f !== 0) {
            var isGoodStatus = this['status'] === this['STATUS']['GOOD'];
            if (!isGoodStatus) {
              isGoodStatus = this['getFPSvolatilityIndex'](3) < 10000;
            }
            if (isGoodStatus && this['refreshDisplayed'] > 0) {
              _0x943fx80 = Math['round'](_0x943fx7f / this['refreshDisplayed']);
            } else {
              if (_0x943fx39['length'] > 0) {
                _0x943fx80 = Math['round'](
                  _0x943fx7f / this['getAverageFPS'](5, true)
                );
              } else {
                var frequency = hertz['getCurrentFrequency']();
                if (frequency > 0) {
                  _0x943fx80 = Math['round'](_0x943fx7f / frequency);
                }
              }
            }
            if (_0x943fx80 === 0) {
              _0x943fx80 = Math['round'](_0x943fx7f / 60);
            }
          }
          if (isNaN(_0x943fx80)) {
            return;
          }
          if (
            _0x943fx7f !== this['pixelsPerSec'] ||
            _0x943fx80 !== this['pixelsPerFrame']
          ) {
            this['pixelsPerSec'] = _0x943fx7f;
            this['pixelsPerFrame'] = _0x943fx80;
            _0x943fx66('display_pps', this['pixelsPerSec']);
            _0x943fx66('display_ppf', this['pixelsPerFrame']);
          }
        };
        this['updatePixelsPerFrame'] = function (pixelsPerFrame) {
          var pixelsPerSec = this['pixelsPerSec'];
          if (this['refreshDisplayed'] > 0) {
            pixelsPerSec = Math['round'](
              pixelsPerFrame * this['refreshDisplayed']
            );
          } else {
            if (_0x943fx39['length'] > 0) {
              pixelsPerSec = Math['round'](
                pixelsPerFrame * this['getAverageFPS'](5, true)
              );
            } else {
              var frequency = hertz['getCurrentFrequency']();
              if (frequency > 0) {
                pixelsPerSec = Math['round'](pixelsPerFrame * frequency);
              }
            }
          }
          if (
            pixelsPerSec !== this['pixelsPerSec'] ||
            pixelsPerFrame !== this['pixelsPerFrame']
          ) {
            this['pixelsPerSec'] = pixelsPerSec;
            this['pixelsPerFrame'] = pixelsPerFrame;
            _0x943fx66('display_pps', this['pixelsPerSec']);
            _0x943fx66('display_ppf', this['pixelsPerFrame']);
          }
        };
        this['updatePixelsPer'] = function () {
          if (this['autoPPS'] === true) {
            this['updatePixelsPerSec'](this['pixelsPerSec']);
          } else {
            this['updatePixelsPerFrame'](this['pixelsPerFrame']);
          }
        };
        this['updateRefresh'] = function (_0x943fx83) {
          if (_0x943fx83 <= 1) {
            _0x943fx66('display_refresh', '?');
            this['refreshDisplayed'] = 0;
            this['refreshRateFloat'] = 0;
            _0x943fx63 = false;
          } else {
            if (_0x943fx36 >= 2) {
              var _0x943fx70 = Math['abs'](
                _0x943fx83 - this['refreshDisplayed']
              );
              if (_0x943fx70 >= 2) {
                _0x943fx66('display_refresh', this['refreshRate'].toString());
                console.log('refreshDisplayed____0x943fx70>=2', _0x943fx83);
                this['refreshDisplayed'] = _0x943fx83;
                try {
                  if (parent['onRefreshRateChange']) {
                    parent['onRefreshRateChange']();
                  }
                } catch (e) {}
              } else {
                if (
                  _0x943fx70 >= 1 &&
                  !(this['refreshRate'] % 10) &&
                  this['refreshDisplayed'] % 10
                ) {
                  _0x943fx66('display_refresh', this['refreshRate'].toString());
                  console.log('refreshDisplayed_____0x943fx70>=1', _0x943fx83);
                  this['refreshDisplayed'] = _0x943fx83;
                  try {
                    if (parent['onRefreshRateChange']) {
                      parent['onRefreshRateChange']();
                    }
                  } catch (e) {}
                }
              }
            }
          }
        };
        this['getPreferredLookbehind'] = function () {
          var _0x943fx84 = 0;
          if (_0x943fx63 && this['refreshRate'] === this['refreshDisplayed']) {
            _0x943fx84 = 2;
          } else {
            if (
              this['refreshRate'] === 60 ||
              this['refreshRate'] === 75 ||
              this['refreshRate'] === 100 ||
              this['refreshRate'] === 120 ||
              this['refreshRate'] === 144 ||
              this['refreshRate'] === 165 ||
              this['refreshRate'] === 200 ||
              this['refreshRate'] === 240 ||
              this['refreshRate'] === 300 ||
              this['refreshRate'] === 360 ||
              this['refreshRate'] === 480
            ) {
              _0x943fx84 = this['strictSync'] ? 4 : 2;
            } else {
              if (this['refreshRate'] < 58 || this['refreshRate'] > 250) {
                _0x943fx84 = this['strictSync'] ? 7 : 5;
              } else {
                _0x943fx84 = this['strictSync'] ? 5 : 3;
              }
            }
          }
          return _0x943fx84;
        };
        this['fail'] = function () {
          goodSeconds = 0;
          hertz['ignoreNextCycle']();
        };

        /**
         * exec every frame
         */
        this['accuracyCheck'] = function () {
          performanceNow = performance['now']();
          this['frameCounter']++;
          _0x943fx5a = status;
          if (_0x943fx59) {
            VSYNCnotSuppport = browserDetect['vsync'] !== 'yes';
            _0x943fx59 = false;
            resyncStatus = this['RESYNC']['NONE'];
            this['message'] = 'Initializing...';
            this['updateStatus'](this['STATUS'].SYNCING);
          }
          this['windowCheck']();
          if (this['fps'] !== 0) {
            avgFrameLatency = 1000 / this['fps'];
            this['jitter'] = this['timePeriodFrameStart'] - avgFrameLatency;
            if (Math['abs'](this['jitter']) >= 1) {
              if (this['jitter'] < 0) {
                jitterFasterFrameCount++;
                jitterFasterPeriodSum += -this['jitter'];
              } else {
                jitterSlowerFrameCount++;
                jitterSlowerPeriodSum += this['jitter'];
              }
            }

            /*************** =================== ***************/
            if (this['fps'] <= 2 || Math['abs'](this['jitter']) > 200) {
              if (!_0x943fx62 || _0x943fx61) {
                _0x943fx62 = true;
                this['fail']();
                if (this['status'] !== this['STATUS']['SYNCING']) {
                  console.log('!!! Browser pause detected, resynchronizing...');
                  this['sync'](
                    'Browser pause detected, resynchronizing...',
                    this['RESYNC'].HARD
                  );
                }
              }
            } else {
              if (this['frameTime'] - countFPSFrameTime >= 1500) {
                if (!_0x943fx62 || _0x943fx61) {
                  _0x943fx62 = true;
                  this['fail']();
                  if (this['status'] !== this['STATUS']['SYNCING']) {
                    console.log(
                      '!!! Browser freeze detected, resynchronizing...'
                    );
                    this['sync'](
                      'Browser freeze detected, resynchronizing...',
                      this['RESYNC'].HARD
                    );
                  }
                }
                countFPSFrameTime = this['frameTime'];
              } else {
                if (Math['abs'](this['jitter']) > avgFrameLatency / 2) {
                  jitterAvgLatencyRatio =
                    Math['abs'](this['jitter']) / avgFrameLatency;
                  jitterAvgLatencyRatioSum += jitterAvgLatencyRatio;
                  if (jitterAvgLatencyRatio > 1.0) {
                    _0x943fx42 += jitterAvgLatencyRatio;
                  }
                  stutteringTimes++;
                  _0x943fx3f++;
                  console.log('!!!_0x943fx3f', _0x943fx3f);
                  if (
                    this['status'] !== this['STATUS']['PERFORMANCE'] &&
                    this['status'] !== this['STATUS']['HIGH_CPU'] &&
                    this['status'] !== this['STATUS']['STUTTER_BUG'] &&
                    this['status'] !== this['STATUS']['BROWSERBAD'] &&
                    this['status'] !== this['STATUS']['BROWSERUNKNOWN'] &&
                    this['status'] !== this['STATUS']['SYNCING'] &&
                    this['status'] !== this['STATUS']['SYNCFAIL'] &&
                    this['status'] !== this['STATUS']['ERROR'] &&
                    !resyncStatus
                  ) {
                    /********************** STUTTER  ************************/
                    if (
                      _0x943fx3f <= 10 &&
                      stutteringTimes <= 10 &&
                      jitterAvgLatencyRatio <= 1.0 &&
                      jitterAvgLatencyRatioSum / stutteringTimes < 1.0 &&
                      this['status'] !== this['STATUS']['STUTTER_DETECTED'] &&
                      this['status'] !== this['STATUS']['STUTTER_MAJOR']
                    ) {
                      if (
                        _0x943fx5f === 0 &&
                        this['status'] !== this['STATUS']['STUTTER_CAUTION']
                      ) {
                        this['message'] =
                          'Potential browser stutter occured (' +
                          stutteringTimes.toString() +
                          ')';
                        this['updateStatus'](this['STATUS'].STUTTER_CAUTION);
                      }
                    } else {
                      if (
                        stutteringTimes <= 10 &&
                        _0x943fx3f <= 10 &&
                        this['status'] !== this['STATUS']['STUTTER_MAJOR']
                      ) {
                        if (
                          _0x943fx5f === 0 &&
                          this['status'] !== this['STATUS']['STUTTER_DETECTED']
                        ) {
                          this['message'] =
                            'Browser stutter detected (' +
                            stutteringTimes.toString() +
                            '+). Close other apps and tabs.';
                          this['updateStatus'](this['STATUS'].STUTTER_DETECTED);
                        }
                      } else {
                        if (
                          this['status'] !== this['STATUS']['STUTTER_MAJOR']
                        ) {
                          this['message'] =
                            'Browser stuttering is occuring (' +
                            stutteringTimes.toString() +
                            '+). Close other apps and tabs.';
                          this['updateStatus'](this['STATUS'].STUTTER_MAJOR);
                        }
                      }
                    }
                  }
                } else {
                  if (_0x943fx3f > 0) {
                    _0x943fx3f--;
                    console.log('!!!_0x943fx3f', _0x943fx3f);
                  }
                }
              }
            }
          }
          if (_0x943fx5f > 0) {
            _0x943fx5f--;
          }
          if (resyncStatus) {
            this['fail']();
            this['updateStatus'](this['STATUS'].SYNCING);
            _0x943fx35 = 0;
            if (resyncStatus == this['RESYNC']['HARD']) {
              _0x943fx36 = 0;
              frameCountASecond = 0;
              countFPSFrameTime = this['frameTime'];
              stutteringTimes = 0;
              _0x943fx3f = 0;
              jitterFasterFrameCount = 0;
              jitterSlowerFrameCount = 0;
              jitterFasterPeriodSum = 0;
              jitterSlowerPeriodSum = 0;
              _0x943fx47 = 0;
            }
            resyncStatus = this['RESYNC']['NONE'];
          }
          if (countFPSFrameTime !== 0) {
            if (this['frameTime'] - countFPSFrameTime >= 1000) {
              var noStuttering = stutteringTimes === 0;
              var fpsTestSuccess = noStuttering;
              var _0x943fx87 = this['refreshDisplayed'] - this['refreshRate'];
              var avgJitterFasterLatencyPerFrame =
                jitterFasterPeriodSum / jitterFasterFrameCount;
              var avgJitterSlowerLatencyPerFrame =
                jitterSlowerPeriodSum / jitterSlowerFrameCount;
              countFPSFrameTime += 1000;
              _0x943fx36++;
              _0x943fx35++;
              _0x943fx34++;
              var halfFrameCounts = frameCountASecond / 2;
              if (halfFrameCounts > _0x943fx2e) {
                halfFrameCounts = _0x943fx2e;
              }
              if (halfFrameCounts > _0x943fx3a) {
                _0x943fx3a = halfFrameCounts;
              }
              if (frameCountASecond >= _0x943fx3a) {
                this['addHistoricalFPS'](frameCountASecond, _0x943fx47);
              }
              this['updateFPS'](frameCountASecond);
              if (VSYNCnotSuppport) {
                this['message'] = browserDetect['vsyncInfo'];
                this['updateStatus'](
                  browserDetect['vsync'] === 'no'
                    ? this['STATUS']['BROWSERBAD']
                    : this['STATUS']['BROWSERUNKNOWN']
                );
                noStuttering = false;
                fpsTestSuccess = false;
              } else {
                if (frameCountASecond < lowestFPS) {
                  _0x943fx36 = 0;
                  _0x943fx35 = 0;
                  noStuttering = false;
                  fpsTestSuccess = false;
                } else {
                  if (
                    avgJitterSlowerLatencyPerFrame > 1.5 &&
                    avgJitterSlowerLatencyPerFrame * 3 <
                      avgJitterFasterLatencyPerFrame
                  ) {
                    noStuttering = false;
                    fpsTestSuccess = false;
                    this['strictSync'] = true;
                    if (this['status'] !== this['STATUS']['SYNCFAIL']) {
                      this['updateRefresh'](0);
                      hertz['beginMeasuring'](performanceNow);
                      if (!_0x943fx5b) {
                        this['logFPS']('Framerate Strange');
                        _0x943fx5b = true;
                      }
                      if (this['status'] !== this['STATUS']['SYNCING']) {
                        this['sync'](
                          'Unusual stuttering detected, resynchronizing...',
                          this['RESYNC'].SOFT
                        );
                      }
                    }
                  } else {
                    if (this['status'] === this['STATUS']['SYNCING']) {
                      if (_0x943fx35 > _0x943fx30) {
                        if (this['fps'] < 48) {
                          this['message'] =
                            'Low Framerate. Try closing all apps and browser tabs.';
                        } else {
                          this['message'] =
                            'Unable to VSYNC. Try closing all apps and browser tabs.';
                        }
                        this['updateStatus'](this['STATUS'].SYNCFAIL);
                        if (!_0x943fx5c) {
                          _0x943fx5c = true;
                          this['logFPS']('Framerate Fail Poor');
                        }
                        noStuttering = false;
                        fpsTestSuccess = false;
                      }
                    } else {
                      if (this['refreshDisplayed'] > 0) {
                        if (_0x943fx87 < -3) {
                          hertz['beginMeasuring'](performanceNow);
                          this['updateRefresh'](0);
                          this['strictSync'] = true;
                          fpsTestSuccess = false;
                          this['sync'](
                            'Large framerate increase, resynchronizing...' +
                              ' (' +
                              this['refreshDisplayed'] +
                              ' to ' +
                              this['refreshRate'] +
                              ')',
                            this['RESYNC'].SOFT
                          );
                        } else {
                          if (_0x943fx87 > 20) {
                            hertz['beginMeasuring'](performanceNow);
                            this['updateRefresh'](0);
                            this['strictSync'] = true;
                            fpsTestSuccess = false;
                            this['sync'](
                              'Large framerate decrease, resynchronizing...',
                              this['RESYNC'].SOFT
                            );
                          } else {
                            if (Math['abs'](_0x943fx87) >= 2) {
                              hertz['beginMeasuring'](performanceNow);
                              this['updateRefresh'](0);
                              this['strictSync'] = true;
                              fpsTestSuccess = false;
                              this['sync'](
                                'Browser framerate varying too much. Close other apps and tabs.',
                                this['RESYNC'].SOFT
                              );
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              if (
                !VSYNCnotSuppport &&
                this['getAveragePerformance'](3) > _0x943fx2f
              ) {
                if (browserDetect['browser'] === 'Chrome') {
                  this['message'] =
                    'Try closing apps/browser tabs. Verify chrome://gpu status.';
                } else {
                  this['message'] =
                    'Try closing apps/tabs. Verify GPU acceleration is enabled.';
                }
                this['updateStatus'](this['STATUS'].HIGH_CPU);
                if (!_0x943fx5e) {
                  _0x943fx5e = true;
                  this['logFPS']('Framerate Performance Low');
                }
                hertz['beginMeasuring'](performanceNow);
                this['updateRefresh'](0);
                this['strictSync'] = true;
                fpsTestSuccess = false;
                noStuttering = false;
              }
              if (
                this['refreshDisplayed'] === 62 &&
                _0x943fx37 >= 3 &&
                browserDetect['vsync'] === 'yes' &&
                browserDetect['OS'] === 'Windows'
              ) {
                if (
                  browserDetect['browser'] === 'Chrome' ||
                  browserDetect['browser'] === 'Opera'
                ) {
                  this['message'] =
                    browserDetect['browser'] +
                    ' VSYNC non-synchronization bug. Restart browser.';
                  this['updateStatus'](this['STATUS'].STUTTER_BUG);
                  noStuttering = false;
                }
              }
              if (this['status'] !== this['STATUS']['SYNCING']) {
                var _0x943fx8b = this['fps'] > _0x943fx31;
                var _0x943fx8c = this['fps'] < _0x943fx2b;
                var _0x943fx8d = this['fps'] > _0x943fx2c;
                var _0x943fx8e =
                  this['status'] === this['STATUS']['PERFORMANCE'];
                if (_0x943fx8e && !_0x943fx8d) {
                  _0x943fx8c = true;
                }
                if (_0x943fx8b) {
                  if (browserDetect['browser'] === 'Chrome') {
                    this['message'] =
                      'Too fast. Please enable VSYNC in chrome://flags';
                  } else {
                    this['message'] =
                      'Too fast. VSYNC may be disabled in your browser.';
                  }
                  this['updateStatus'](this['STATUS'].SYNCFAIL);
                  this['strictSync'] = true;
                  noStuttering = false;
                } else {
                  if (_0x943fx8c && !_0x943fx62) {
                    if (this['status'] !== this['STATUS']['SYNCFAIL']) {
                      this['message'] =
                        'Low frame rate. Try closing all apps and browser tabs.';
                      this['updateStatus'](this['STATUS'].PERFORMANCE);
                      if (this['refreshRate'] === 0) {
                        hertz['beginMeasuring'](performanceNow);
                        this['updateRefresh'](0);
                      }
                      noStuttering = false;
                      fpsTestSuccess = false;
                    }
                  }
                }
              }
              if (fpsTestSuccess) {
                var preferredLookbehind = 0;
                this['refreshRate'] = frameCountASecond; // 46  56  都有可能
                goodSeconds++;
                if (this['refreshRate'] < _0x943fx2b) {
                  fpsTestSuccess = false;
                } else {
                  if (goodSeconds > 0) {
                    preferredLookbehind = this['getPreferredLookbehind']();
                    if (
                      goodSeconds < preferredLookbehind ||
                      this['getVarianceOfFPS'](preferredLookbehind) > 1
                    ) {
                      fpsTestSuccess = false;
                    }
                  }
                }
                if (fpsTestSuccess) {
                  _0x943fx61 = false;
                  _0x943fx62 = false;
                  if (noStuttering) {
                    this['message'] = '';
                    if (browserDetect['browser'] === 'Explorer') {
                      if (browserDetect['version'] <= 11) {
                        if (this['fps'] < 110) {
                          this['message'] =
                            "<i><span style='font-size: 20px;'>NOTE: Internet Explorer does not run 120fps on 120Hz monitors.</span></i>";
                        }
                      }
                    } else {
                      if (browserDetect['browser'] === 'Edge') {
                        {
                          if (this['fps'] < 110) {
                            this['message'] =
                              "<i><span style='font-size: 20px;'>NOTE: Edge does not run 120fps on 120Hz monitors.</span></i>";
                          }
                        }
                      } else {
                        if (browserDetect['browser'] === 'Safari') {
                          if (
                            screen['width'] === 834 ||
                            screen['height'] === 834
                          ) {
                            if (this['fps'] <= 62) {
                              this['message'] =
                                "<i><span style='font-size: 20px;'>NOTE: iPad Safari does not currently support 120Hz yet. See <a href='https://bugs.webkit.org/show_bug.cgi?id=173434'>BugZilla report</a>.</span></i>";
                            }
                          }
                        }
                      }
                    }
                    this['updateStatus'](this['STATUS'].GOOD);
                    if (!_0x943fx63) {
                      this['logFPS'](
                        _0x943fx5c || _0x943fx5e
                          ? 'Framerate Recovered'
                          : 'Framerate Success'
                      );
                    }
                    _0x943fx63 = true;
                  }
                  this['updateRefresh'](this['refreshRate']);
                }
              } else {
                this['fail']();
              }
              frameCountASecond = 0;
              _0x943fx42 = 0;
              stutteringTimes = 0;
              jitterAvgLatencyRatioSum = 0;
              jitterFasterFrameCount = 0;
              jitterSlowerFrameCount = 0;
              jitterFasterPeriodSum = 0;
              jitterSlowerPeriodSum = 0;
              _0x943fx47 = 0;
            }
          } else {
            countFPSFrameTime = this['frameTime'];
            frameCountASecond = 0;
          }
          this['updatePixelsPer']();
          this['timePeriodFrameRender'] =
            performance['now']() - this['frameTime'];
          this['timePeriodAccuracyChecker'] =
            performance['now']() - performanceNow;
          _0x943fx47 +=
            this['timePeriodFrameRender'] + this['timePeriodAccuracyChecker'];
          frameCountASecond++; // 从 1 累加到 61
          console.log('countCycle', frameCountASecond);
          hertz['countCycle'](performanceNow);
        };
      }
      function Draw() {
        this['createSurface'] = function (width, height) {
          canvas = document['createElement']('canvas');
          ctx = canvas['getContext']('2d');
          if (width) {
            this['setDimensions'](ctx, width, height);
          }
          return ctx;
        };
        this['setDimensions'] = function (ctx, width, height) {
          if (!ctx || !ctx['canvas']) {
            return;
          }
          if (width && ctx['canvas']['width'] !== width) {
            ctx['viewportWidth'] = width;
            ctx['canvas']['width'] = width;
          }
          if (height && ctx['canvas']['height'] !== height) {
            ctx['viewportHeight'] = height;
            ctx['canvas']['height'] = height;
          }
        };
        this['bitmapToSurface'] = function (_0x943fx93, _0x943fx94) {
          this['setDimensions'](
            _0x943fx94,
            _0x943fx93['width'],
            _0x943fx93['height']
          );
          _0x943fx94['drawImage'](_0x943fx93, 0, 0);
        };
        this['replaceColor'] = function (ctx, _0x943fx96, _0x943fx97) {
          var imgData = ctx['getImageData'](
            0,
            0,
            ctx['canvas']['width'],
            ctx['canvas']['height']
          );
          var length = imgData['data']['length'];
          for (var i = 0; i < length; i += 4) {
            if (imgData['data'][i] === _0x943fx96) {
              imgData['data'][i] = _0x943fx97;
              imgData['data'][i + 1] = _0x943fx97;
              imgData['data'][i + 2] = _0x943fx97;
            }
          }
          ctx['putImageData'](imgData, 0, 0);
        };
        this['PURSUIT_TRACK_COLOR_BACKGROUND'] = '#000000';
        this['PURSUIT_TRACK_COLOR_TICKS'] = '#FFFFFF';
        this['PURSUIT_TRACK_COLOR_LINES'] = '#FFFFFF';
        this['PURSUIT_TRACK_TICK_COUNT'] = 4;
        this['PURSUIT_TRACK_TICK_HEIGHT'] = 4;
        this['PURSUIT_TRACK_TICK_WIDTH'] = 2;
        this['PURSUIT_TRACK_HEIGHT'] =
          7 +
          this['PURSUIT_TRACK_TICK_COUNT'] * this['PURSUIT_TRACK_TICK_HEIGHT'] +
          7;
        var _0x943fx9a = 0;
        var canvasCtx = this['createSurface']();
        this['pursuitTrack'] = function (ctx, _0x943fx9c, _0x943fx9d) {
          var width = ctx['canvas']['width'];
          _0x943fx9a =
            frameTiming['frameCounter'] % this['PURSUIT_TRACK_TICK_COUNT'];
          ctx['fillStyle'] = this['PURSUIT_TRACK_COLOR_BACKGROUND'];
          var offsetY = _0x943fx9d;
          ctx['fillRect'](0, offsetY, width, this.PURSUIT_TRACK_HEIGHT);
          if (!_0x943fx9c) {
            return;
          }
          ctx['fillStyle'] = this['PURSUIT_TRACK_COLOR_LINES'];
          offsetY += 3;
          ctx['fillRect'](0, offsetY, width, 1);
          offsetY += 2;
          ctx['fillRect'](0, offsetY, width, 1);
          offsetY += 2;
          var _0x943fx9f = Math['abs'](frameTiming['pixelsPerFrame']);
          var _0x943fxa0 = this['PURSUIT_TRACK_TICK_COUNT'] * _0x943fx9f;
          if (_0x943fxa0 > 0) {
            var _0x943fxa1 =
              this['PURSUIT_TRACK_TICK_COUNT'] *
              this['PURSUIT_TRACK_TICK_HEIGHT'];
            var _0x943fxa2 = this['PURSUIT_TRACK_TICK_HEIGHT'] * _0x943fx9a;
            var _0x943fxa3 = frameTiming['pixelsPerFrame'] * _0x943fx9a;
            draw['setDimensions'](canvasCtx, _0x943fxa0, _0x943fxa1);
            canvasCtx['fillStyle'] = this['PURSUIT_TRACK_COLOR_BACKGROUND'];
            canvasCtx['fillRect'](0, 0, _0x943fxa0, _0x943fxa1);
            canvasCtx['fillStyle'] = this['PURSUIT_TRACK_COLOR_TICKS'];
            if (frameTiming['pixelsPerFrame'] > 0) {
              canvasCtx['fillRect'](
                -_0x943fxa0 + _0x943fxa3,
                _0x943fxa2,
                this.PURSUIT_TRACK_TICK_WIDTH,
                this.PURSUIT_TRACK_TICK_HEIGHT
              );
            }
            canvasCtx['fillRect'](
              _0x943fxa3,
              _0x943fxa2,
              this.PURSUIT_TRACK_TICK_WIDTH,
              this.PURSUIT_TRACK_TICK_HEIGHT
            );
            if (frameTiming['pixelsPerFrame'] < 0) {
              canvasCtx['fillRect'](
                _0x943fxa0 + _0x943fxa3,
                _0x943fxa2,
                this.PURSUIT_TRACK_TICK_WIDTH,
                this.PURSUIT_TRACK_TICK_HEIGHT
              );
            }
            var _0x943fxa4 = ctx['createPattern'](
              canvasCtx['canvas'],
              'repeat'
            );
            ctx['save']();
            ctx['fillStyle'] = _0x943fxa4;
            ctx['translate'](0, offsetY);
            ctx['fillRect'](0, 0, width, _0x943fxa1);
            ctx['restore']();
          }
          ctx['fillStyle'] = this['PURSUIT_TRACK_COLOR_LINES'];
          offsetY +=
            this['PURSUIT_TRACK_TICK_HEIGHT'] *
              this['PURSUIT_TRACK_TICK_COUNT'] +
            1;
          ctx['fillRect'](0, offsetY, width, 1);
          offsetY += 2;
          ctx['fillRect'](0, offsetY, width, 1);
        };
        this['PURSUIT_GRID_TICK_COUNT'] = 4;
        this['PURSUIT_GRID_TICK_HEIGHT'] = 16;
        this['PURSUIT_GRID_TICK_WIDTH'] = 3;
        var _0x943fxa5 = 0;
        this['pursuitGrid'] = function (ctx, _0x943fxa6) {
          var _0x943fx90 = ctx['canvas']['width'];
          var _0x943fx91 = ctx['canvas']['height'];
          _0x943fxa5 =
            frameTiming['frameCounter'] % this['PURSUIT_GRID_TICK_COUNT'];
          ctx['fillStyle'] = _0x943fxa6;
          var _0x943fxa3 = frameTiming['pixelsPerFrame'] * _0x943fxa5;
          var _0x943fxa2 = this['PURSUIT_GRID_TICK_HEIGHT'] * _0x943fxa5;
          var _0x943fxa7 =
            Math['abs'](frameTiming['pixelsPerFrame']) *
            this['PURSUIT_GRID_TICK_COUNT'];
          var _0x943fxa8 =
            this['PURSUIT_GRID_TICK_HEIGHT'] * this['PURSUIT_GRID_TICK_COUNT'];
          ctx['globalAlpha'] = 0.25;
          var _0x943fxa9;
          for (
            _0x943fxa9 = this['PURSUIT_GRID_TICK_HEIGHT'] / 2 - 1;
            _0x943fxa9 < _0x943fx91;
            _0x943fxa9 += _0x943fxa8
          ) {
            ctx['fillRect'](0, _0x943fxa9, _0x943fx90, 1);
            ctx['fillRect'](0, _0x943fxa9 + 2, _0x943fx90, 1);
          }
          ctx['globalAlpha'] = 1.0;
          if (_0x943fxa7 > 0) {
            for (
              _0x943fxa9 = _0x943fxa2;
              _0x943fxa9 < _0x943fx91;
              _0x943fxa9 += _0x943fxa8
            ) {
              for (
                var _0x943fxaa = _0x943fxa3;
                _0x943fxaa < _0x943fx90;
                _0x943fxaa += _0x943fxa7
              ) {
                ctx['fillRect'](
                  _0x943fxaa,
                  _0x943fxa9,
                  this.PURSUIT_GRID_TICK_WIDTH,
                  this.PURSUIT_GRID_TICK_HEIGHT
                );
              }
            }
          }
        };
        this['message'] = function (_0x943fx94, _0x943fxab, _0x943fxa6) {
          _0x943fx94['font'] = 'bold 24px Verdana';
          _0x943fx94['textAlign'] = 'left';
          var _0x943fxac = _0x943fx94['measureText'](_0x943fxab)['width'];
          var _0x943fxad = (window['innerWidth'] - _0x943fxac) / 2;
          var _0x943fxae = _0x943fx94['canvas']['height'] / 2;
          if (_0x943fx94['canvas']['height'] > window['innerHeight']) {
            _0x943fxae = window['innerHeight'] / 2;
          }
          _0x943fx94['fillStyle'] = _0x943fxa6;
          _0x943fx94['fillRect'](
            _0x943fxad - 12,
            _0x943fxae - 30,
            _0x943fxac + 24,
            24 + 24
          );
          _0x943fx94['fillStyle'] = '#000000';
          _0x943fx94['fillText'](_0x943fxab, _0x943fxad, _0x943fxae);
          _0x943fx94['fillStyle'] = '#FFFFFF';
          _0x943fx94['fillText'](_0x943fxab, _0x943fxad + 2, _0x943fxae + 2);
        };
        function stripLeadingHashForColor(colorStr) {
          return colorStr['charAt'](0) === '#'
            ? colorStr['substring'](1, 7)
            : colorStr;
        }
        function getColorR(color) {
          return parseInt(
            stripLeadingHashForColor(color)['substring'](0, 2),
            16
          );
        }
        function getColorG(color) {
          return parseInt(
            stripLeadingHashForColor(color)['substring'](2, 4),
            16
          );
        }
        function getColorB(color) {
          return parseInt(
            stripLeadingHashForColor(color)['substring'](4, 6),
            16
          );
        }
        function padLeadingZero(str, minLength) {
          var result = str.toString();
          while (result['length'] < minLength) {
            result = '0' + result;
          }
          return result;
        }
        this['blendColor'] = function (_0x943fxb8, _0x943fxb9, _0x943fxba) {
          var _0x943fxbb = Math['round'](
            getColorR(_0x943fxb9) * _0x943fxba +
              getColorR(_0x943fxb8) * (1 - _0x943fxba)
          );
          var _0x943fxbc = Math['round'](
            getColorG(_0x943fxb9) * _0x943fxba +
              getColorG(_0x943fxb8) * (1 - _0x943fxba)
          );
          var _0x943fxbd = Math['round'](
            getColorB(_0x943fxb9) * _0x943fxba +
              getColorB(_0x943fxb8) * (1 - _0x943fxba)
          );
          return (
            '#' +
            padLeadingZero(_0x943fxbb.toString(16), 2) +
            padLeadingZero(_0x943fxbc.toString(16), 2) +
            padLeadingZero(_0x943fxbd.toString(16), 2)
          );
        };
        this['addColor'] = function (_0x943fxb8, _0x943fxb9) {
          var _0x943fxbb = Math['min'](
            getColorR(_0x943fxb8) + getColorR(_0x943fxb9),
            255
          );
          var _0x943fxbc = Math['min'](
            getColorG(_0x943fxb8) + getColorG(_0x943fxb9),
            255
          );
          var _0x943fxbd = Math['min'](
            getColorB(_0x943fxb8) + getColorB(_0x943fxb9),
            255
          );
          return (
            '#' +
            padLeadingZero(_0x943fxbb.toString(16), 2) +
            padLeadingZero(_0x943fxbc.toString(16), 2) +
            padLeadingZero(_0x943fxbd.toString(16), 2)
          );
        };
        this['invertColor'] = function (_0x943fxa6) {
          var _0x943fxbb = 255 - getColorR(_0x943fxa6);
          var _0x943fxbc = 255 - getColorG(_0x943fxa6);
          var _0x943fxbd = 255 - getColorB(_0x943fxa6);
          return (
            '#' +
            padLeadingZero(_0x943fxbb.toString(16), 2) +
            padLeadingZero(_0x943fxbc.toString(16), 2) +
            padLeadingZero(_0x943fxbd.toString(16), 2)
          );
        };
        this['gammaColor'] = function (_0x943fxa6, _0x943fxba) {
          var _0x943fxbb = Math['round'](
            255.0 * Math['pow'](getColorR(_0x943fxa6) / 255.0, 1.0 / _0x943fxba)
          );
          var _0x943fxbc = Math['round'](
            255.0 * Math['pow'](getColorG(_0x943fxa6) / 255.0, 1.0 / _0x943fxba)
          );
          var _0x943fxbd = Math['round'](
            255.0 * Math['pow'](getColorB(_0x943fxa6) / 255.0, 1.0 / _0x943fxba)
          );
          return (
            '#' +
            padLeadingZero(_0x943fxbb.toString(16), 2) +
            padLeadingZero(_0x943fxbc.toString(16), 2) +
            padLeadingZero(_0x943fxbd.toString(16), 2)
          );
        };
        this['setColorLuminance'] = function (color, luminance) {
          color = String(color)['replace'](/[^0-9a-f]/gi, '');
          if (color['length'] < 6) {
            color =
              color[0] + color[0] + color[1] + color[1] + color[2] + color[2];
          }
          luminance = luminance || 0;
          var result = '#';
          var colorComponent = 0;
          for (var i = 0; i < 3; i++) {
            colorComponent = parseInt(color['substr'](i * 2, 2), 16);
            colorComponent = Math['round'](
              Math['min'](
                Math['max'](0, colorComponent + colorComponent * luminance),
                255
              )
            ).toString(16);
            result += ('00' + colorComponent)['substr'](
              colorComponent['length']
            );
          }
          return result;
        };
      }
      function Zoom() {
        var _0x943fx33 = false;
        var _0x943fxc3 = false;
        var _0x943fxc4 = false;
        var _0x943fxc5 = false;
        var _0x943fxc6 = false;
        var _0x943fxc7 = '';
        var _0x943fxc8 = '';
        var _0x943fxc9 = '';
        var _0x943fxca = undefined;
        var _0x943fx95 = undefined;
        var _0x943fxcb = -1;
        this['init'] = function (_0x943fxcc, _0x943fxcd, _0x943fxce) {
          _0x943fx33 = false;
          _0x943fxc9 = _0x943fxcc;
          _0x943fxc7 = _0x943fxcd;
          _0x943fxc8 = _0x943fxce;
          try {
            _0x943fxca = document['getElementById'](_0x943fxcc);
            if (_0x943fxca) {
              _0x943fx95 = _0x943fxca['getContext']('2d');
              if (_0x943fx95) {
                _0x943fx33 = true;
              }
            }
          } catch (e) {}
          return _0x943fx33;
        };
        this['setPreferredHeight'] = function (_0x943fxcf) {
          _0x943fxcb = _0x943fxcf;
          this['sync']();
        };
        this['getPreferredHeight'] = function () {
          return _0x943fxcb;
        };
        this['getWidth'] = function () {
          return _0x943fxca['width'];
        };
        this['getHeight'] = function () {
          return _0x943fxca['height'];
        };
        function _0x943fxd0(_0x943fx90) {
          if (_0x943fx33 && _0x943fxca['width'] !== _0x943fx90) {
            _0x943fxca['width'] = _0x943fx90;
            _0x943fx95['viewportWidth'] = _0x943fx90;
          }
        }
        function _0x943fxd1(_0x943fx91) {
          if (_0x943fx33 && _0x943fxca['height'] !== _0x943fx91) {
            _0x943fxca['height'] = _0x943fx91;
            _0x943fx95['viewportHeight'] = _0x943fx91;
          }
        }
        this['isMaximized'] = function () {
          if (
            window['innerWidth'] !== screen['width'] ||
            window['innerHeight'] !== screen['height']
          ) {
            if (
              window['outerWidth'] === screen['width'] &&
              window['outerHeight'] === screen['height']
            ) {
              return true;
            }
          }
          return false;
        };
        this['isFullScreen'] = function () {
          return (
            window['innerWidth'] === screen['width'] &&
            window['innerHeight'] === screen['height']
          );
        };
        this['goFullScreen'] = function () {
          if (document['documentElement']['requestFullscreen']) {
            document['documentElement']['requestFullscreen']();
          } else {
            if (document['documentElement']['mozRequestFullScreen']) {
              document['documentElement']['mozRequestFullScreen']();
            } else {
              if (document['documentElement']['webkitRequestFullScreen']) {
                document['documentElement']['webkitRequestFullScreen'](
                  Element.ALLOW_KEYBOARD_INPUT
                );
              } else {
                if (document['documentElement']['msRequestFullscreen']) {
                  document['documentElement']['msRequestFullscreen']();
                }
              }
            }
          }
          _0x943fxc3 = true;
          _0x943fxc4 = false;
        };
        this['exitFullScreen'] = function () {
          if (document['cancelFullscreen']) {
            document['cancelFullscreen']();
          } else {
            if (document['mozCancelFullScreen']) {
              document['mozCancelFullScreen']();
            } else {
              if (document['webkitCancelFullScreen']) {
                document['webkitCancelFullScreen']();
              } else {
                if (document['msExitFullscreen']) {
                  document['msExitFullscreen']();
                }
              }
            }
          }
          _0x943fxc3 = false;
          _0x943fxc4 = false;
        };
        this['toggleFullScreen'] = function () {
          !this['isFullScreen']()
            ? this['goFullScreen']()
            : this['exitFullScreen']();
        };
        this['isZoomed'] = function () {
          return _0x943fxc5;
        };
        this['goZoom'] = function () {
          if (!_0x943fx33) {
            return false;
          }
          window['scrollTo'](0, 0);
          if (!_0x943fxc5) {
            _0x943fxc5 = true;
            document['body']['style']['overflow'] = 'hidden';
            document['body']['scroll'] = 'no';
            var _0x943fxd2 = document['getElementById'](_0x943fxc7);
            if (_0x943fxd2) {
              _0x943fxd2['style']['visibility'] = 'hidden';
              _0x943fxd2['style']['position'] = 'fixed';
            }
            var _0x943fxd3 = document['getElementById'](_0x943fxc8);
            if (_0x943fxd3) {
              _0x943fxd3['style']['visibility'] = 'hidden';
              _0x943fxd3['style']['position'] = 'fixed';
            }
            this['goFullScreen']();
            this['sync']();
          }
          return true;
        };
        this['exitZoom'] = function () {
          if (!_0x943fx33) {
            return false;
          }
          if (_0x943fxc6) {
            return false;
          }
          window['scrollTo'](0, 0);
          if (_0x943fxc5) {
            _0x943fxc5 = false;
            document['body']['style']['overflow'] = 'visible';
            document['body']['scroll'] = 'yes';
            var _0x943fxd2 = document['getElementById'](_0x943fxc7);
            if (_0x943fxd2) {
              _0x943fxd2['style']['visibility'] = 'visible';
              _0x943fxd2['style']['position'] = 'static';
            }
            var _0x943fxd3 = document['getElementById'](_0x943fxc8);
            if (_0x943fxd3) {
              _0x943fxd3['style']['visibility'] = 'visible';
              _0x943fxd3['style']['position'] = 'static';
            }
            this['exitFullScreen']();
            this['sync']();
          }
          return true;
        };
        this['toggleZoom'] = function () {
          !_0x943fxc5 ? this['goZoom']() : this['exitZoom']();
        };
        this['sync'] = function () {
          if (!_0x943fx33) {
            return;
          }
          _0x943fxd0(window['innerWidth']);
          if (this['isZoomed']() || this['isEmbedded']()) {
            _0x943fxd1(window['innerHeight']);
          } else {
            if (!_0x943fxcb || _0x943fxcb < 0) {
              _0x943fxd1(window['innerHeight']);
            } else {
              _0x943fxd1(_0x943fxcb);
            }
          }
        };
        this['goEmbed'] = function () {
          _0x943fxc6 = true;
          this['goZoom']();
        };
        this['exitEmbed'] = function () {
          _0x943fxc6 = false;
        };
        this['isEmbedded'] = function () {
          return _0x943fxc6;
        };
      }
      function Hertz() {
        var _0x943fxd5 = 0;
        var _0x943fxd6 = new _0x943fxd9();
        this['beginMeasuring'] = function (_0x943fxd7) {
          _0x943fxd6['reset']();
        };
        this['ignoreNextCycle'] = function (_0x943fxd8) {};
        this['countCycle'] = function (performanceNow) {
          _0x943fxd6['add'](performanceNow);
        };
        this['getCurrentFrequency'] = function () {
          return _0x943fxd6['calc']();
        };
        function _0x943fxd9() {
          var _0x943fxda = 100.0;
          var _0x943fxdb = 1.0;
          var _0x943fxdc = 1.0;
          var _0x943fxdd = 5000000;
          var _0x943fxde = 35;
          var _0x943fxdf = 60;
          var _0x943fxe0;
          var _0x943fxe1;
          var _0x943fxe2;
          var _0x943fxe3, _0x943fxe4, _0x943fxe5, _0x943fxe6, _0x943fxe7;
          var _0x943fxe8;
          var _0x943fxe9;
          var _0x943fxea;
          var _0x943fxeb;
          var _0x943fxec;
          var _0x943fxed;
          var _0x943fxee;
          var _0x943fxef;
          this['cut'] = function (_0x943fxf0) {
            var _0x943fxf1 = [];
            for (
              var _0x943fxf2 = 0;
              _0x943fxf2 < _0x943fxf0['length'];
              _0x943fxf2 += 2
            ) {
              _0x943fxf1[_0x943fxf1['length']] = _0x943fxf0[_0x943fxf2];
            }
            return _0x943fxf1;
          };
          this['add'] = function (performanceNow) {
            _0x943fxd5++;
            _0x943fxe3 = _0x943fxe4;
            _0x943fxe4 = _0x943fxe5;
            _0x943fxe5 = _0x943fxe6;
            _0x943fxe6 = _0x943fxe7;
            _0x943fxe7 = performanceNow;
            var _0x943fxf4 =
              Math['max'](
                _0x943fxe7 - _0x943fxe6,
                _0x943fxe6 - _0x943fxe5,
                _0x943fxe5 - _0x943fxe4,
                _0x943fxe4 - _0x943fxe3
              ) -
              Math['min'](
                _0x943fxe7 - _0x943fxe6,
                _0x943fxe6 - _0x943fxe5,
                _0x943fxe5 - _0x943fxe4,
                _0x943fxe4 - _0x943fxe3
              );
            if (_0x943fxf4 < _0x943fxdb) {
              if (--_0x943fxdf < 0 && --_0x943fxe1 < 0) {
                var _0x943fxf5 = (_0x943fxe7 - _0x943fxe3) / 4;
                if (_0x943fxf5 < 1000 / _0x943fxde) {
                  var _0x943fxf6 =
                    _0x943fxee > 10 &&
                    Math['abs'](_0x943fxf5 - _0x943fxed / _0x943fxee) >
                      _0x943fxdc;
                  _0x943fxef = _0x943fxf6 ? _0x943fxef + 1 : 0;
                  if (!_0x943fxf6) {
                    _0x943fxed += _0x943fxf5;
                    ++_0x943fxee;
                    if (
                      !_0x943fxea &&
                      _0x943fxee > Math['max'](30, _0x943fxf4 * 60)
                    ) {
                      _0x943fxea = _0x943fxed / _0x943fxee;
                    }
                  }
                  if (_0x943fxef > 20) {
                    this['reset'](
                      'Change in Hz detected ' +
                        (_0x943fxed / _0x943fxee)['toFixed'](3) +
                        '->' +
                        _0x943fxf5['toFixed'](3)
                    );
                  } else {
                    if (_0x943fxe8['length'] >= _0x943fxdd) {
                      _0x943fxe8 = this['cut'](_0x943fxe8);
                      _0x943fxe9 = this['cut'](_0x943fxe9);
                      _0x943fxe0 = _0x943fxe0 * 2 + 1;
                    }
                    var _0x943fxf7 = _0x943fxe8['length'];
                    _0x943fxe8[_0x943fxf7] = _0x943fxe5;
                    _0x943fxe9[_0x943fxf7] =
                      (_0x943fxe3 +
                        _0x943fxe4 +
                        _0x943fxe5 +
                        _0x943fxe6 +
                        _0x943fxe7) /
                      5;
                    _0x943fxe1 = _0x943fxe0;
                    if (
                      _0x943fxea &&
                      performanceNow - _0x943fxe2 > _0x943fxda
                    ) {
                      _0x943fxe2 = performanceNow;
                      _0x943fxeb = this['validate']();
                    }
                  }
                }
              }
            }
            const rs =
              'Hz=' +
              _0x943fxe8['length'] +
              '&times;' +
              (_0x943fxe0 + 1) +
              ' samples  ' +
              _0x943fxeb +
              '  dpr=' +
              window['devicePixelRatio'] +
              '  cores=' +
              navigator['hardwareConcurrency'];
            return rs;
          };
          this['calc'] = function () {
            return _0x943fxea ? 1000 / _0x943fxea : 0;
          };
          this['validate'] = function () {
            var _0x943fxf1 = '';
            var _0x943fxf8 = 0.0;
            var _0x943fxf9 = 0.0;
            var _0x943fxfa = 0.0;
            var _0x943fxfb = 0.0;
            var _0x943fxfc = 0;
            var _0x943fxfd = _0x943fxe8['length'];
            var _0x943fxf2;
            for (_0x943fxf2 = 0; _0x943fxf2 < _0x943fxfd; ++_0x943fxf2) {
              _0x943fxfc +=
                _0x943fxf2 > 0
                  ? Math['round'](
                      (_0x943fxe9[_0x943fxf2] - _0x943fxe9[_0x943fxf2 - 1]) /
                        _0x943fxea
                    )
                  : 0;
              var _0x943fxfe = _0x943fxe8[_0x943fxf2] - _0x943fxe8[0];
              _0x943fxf8 += _0x943fxfc;
              _0x943fxf9 += _0x943fxfe;
              _0x943fxfa += _0x943fxfc * _0x943fxfc;
              _0x943fxfb += _0x943fxfc * _0x943fxfe;
            }
            var _0x943fxff =
              (_0x943fxfd * _0x943fxfb - _0x943fxf8 * _0x943fxf9) /
              (_0x943fxfd * _0x943fxfa - _0x943fxf8 * _0x943fxf8);
            var _0x943fx100 =
              (_0x943fxfa * _0x943fxf9 - _0x943fxf8 * _0x943fxfb) /
              (_0x943fxfd * _0x943fxfa - _0x943fxf8 * _0x943fxf8);
            _0x943fxea = _0x943fxff;
            var _0x943fx101 = _0x943fxe8[0] + _0x943fx100;
            var _0x943fx102 = _0x943fxea / 2;
            var _0x943fx7c = 0;
            var _0x943fx7b = 0;
            for (
              _0x943fxf2 = 1;
              _0x943fxf2 < _0x943fxe8['length'];
              ++_0x943fxf2
            ) {
              var _0x943fx103 =
                ((_0x943fxe8[_0x943fxf2] - _0x943fx101 + _0x943fx102) %
                  _0x943fxea) -
                _0x943fx102;
              _0x943fx7b = Math['min'](_0x943fx7b, _0x943fx103);
              _0x943fx7c = Math['max'](_0x943fx7c, _0x943fx103);
            }
            if (_0x943fx7c - _0x943fx7b < _0x943fx102) {
              _0x943fxec = _0x943fx101 + _0x943fx7b;
              _0x943fxf1 =
                'drift=[' +
                _0x943fx7b['toFixed'](2) +
                '..' +
                _0x943fx7c['toFixed'](2) +
                ']';
            } else {
              this['reset']('excessive drift');
            }
            return _0x943fxf1;
          };
          this['snap'] = function () {
            return _0x943fxeb
              ? {
                  tvsync: _0x943fxec,
                  ms: _0x943fxea,
                }
              : null;
          };
          this['vso'] = function (_0x943fx104, _0x943fx105) {
            return _0x943fx105 && _0x943fx105['ms']
              ? ((((_0x943fx104 - _0x943fx105['tvsync'] + 2) %
                  _0x943fx105['ms']) +
                  _0x943fx105['ms']) %
                  _0x943fx105['ms']) -
                  2
              : 0;
          };
          this['reset'] = function (_0x943fx106) {
            _0x943fxe0 = 0;
            _0x943fxe1 = 0;
            _0x943fxe2 = 0.0;
            _0x943fxe3 =
              _0x943fxe4 =
              _0x943fxe5 =
              _0x943fxe6 =
              _0x943fxe7 =
                0.0;
            _0x943fxe8 = [];
            _0x943fxe9 = [];
            _0x943fxea = 0.0;
            _0x943fxeb = '';
            _0x943fxec = 0.0;
            _0x943fxed = 0.0;
            _0x943fxee = 0;
            _0x943fxef = 0;
          };
          this['reset']();
        }
      }
    </script>
    <script type="text/javascript">
      updateZoomedState();
    </script>
    <script type="text/javascript">
      const highEnergy = () => {
        const ran = Math.random() * 100;
        let i = 0;
        while (i++ < ran) {
          // console.log("ran", i);
        }
        requestAnimationFrame(highEnergy);
      };
    </script>
  </body>
</html>
